(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function LE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function tb(){if($_)return Tl;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Tl.Fragment=e,Tl.jsx=n,Tl.jsxs=n,Tl}var X_;function nb(){return X_||(X_=1,Hd.exports=tb()),Hd.exports}var z=nb(),Fd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function ib(){if(Z_)return Re;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,X={};function F(N,te,oe){this.props=N,this.context=te,this.refs=X,this.updater=oe||V}F.prototype.isReactComponent={},F.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ne(){}ne.prototype=F.prototype;function ee(N,te,oe){this.props=N,this.context=te,this.refs=X,this.updater=oe||V}var re=ee.prototype=new ne;re.constructor=ee,L(re,F.prototype),re.isPureReactComponent=!0;var be=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function O(N,te,oe,ie,ge,Ce){return oe=Ce.ref,{$$typeof:r,type:N,key:te,ref:oe!==void 0?oe:null,props:Ce}}function w(N,te){return O(N.type,te,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return te[oe]})}var M=/\/+/g;function k(N,te){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):te.toString(36)}function C(){}function kt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ot(N,te,oe,ie,ge){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Ae=!1;if(N===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(N.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=N._init,ot(Ae(N._payload),te,oe,ie,ge)}}if(Ae)return ge=ge(N),Ae=ie===""?"."+k(N,0):ie,be(ge)?(oe="",Ae!=null&&(oe=Ae.replace(M,"$&/")+"/"),ot(ge,te,oe,"",function(Fn){return Fn})):ge!=null&&(R(ge)&&(ge=w(ge,oe+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+Ae)),te.push(ge)),1;Ae=0;var Nt=ie===""?".":ie+":";if(be(N))for(var We=0;We<N.length;We++)ie=N[We],Ce=Nt+k(ie,We),Ae+=ot(ie,te,oe,Ce,ge);else if(We=b(N),typeof We=="function")for(N=We.call(N),We=0;!(ie=N.next()).done;)ie=ie.value,Ce=Nt+k(ie,We++),Ae+=ot(ie,te,oe,Ce,ge);else if(Ce==="object"){if(typeof N.then=="function")return ot(kt(N),te,oe,ie,ge);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(N,te,oe){if(N==null)return N;var ie=[],ge=0;return ot(N,ie,"","",function(Ce){return te.call(oe,Ce,ge++)}),ie}function ae(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ze(){}return Re.Children={map:K,forEach:function(N,te,oe){K(N,function(){te.apply(this,arguments)},oe)},count:function(N){var te=0;return K(N,function(){te++}),te},toArray:function(N){return K(N,function(te){return te})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ee,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,te,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=L({},N.props),ge=N.key,Ce=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(Ce=void 0),te.key!==void 0&&(ge=""+te.key),te)!pe.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ie[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=oe;else if(1<Ae){for(var Nt=Array(Ae),We=0;We<Ae;We++)Nt[We]=arguments[We+2];ie.children=Nt}return O(N.type,ge,void 0,void 0,Ce,ie)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,te,oe){var ie,ge={},Ce=null;if(te!=null)for(ie in te.key!==void 0&&(Ce=""+te.key),te)pe.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=te[ie]);var Ae=arguments.length-2;if(Ae===1)ge.children=oe;else if(1<Ae){for(var Nt=Array(Ae),We=0;We<Ae;We++)Nt[We]=arguments[We+2];ge.children=Nt}if(N&&N.defaultProps)for(ie in Ae=N.defaultProps,Ae)ge[ie]===void 0&&(ge[ie]=Ae[ie]);return O(N,Ce,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=R,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ae}},Re.memo=function(N,te){return{$$typeof:y,type:N,compare:te===void 0?null:te}},Re.startTransition=function(N){var te=he.T,oe={};he.T=oe;try{var ie=N(),ge=he.S;ge!==null&&ge(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,de)}catch(Ce){de(Ce)}finally{he.T=te}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(N){return he.H.use(N)},Re.useActionState=function(N,te,oe){return he.H.useActionState(N,te,oe)},Re.useCallback=function(N,te){return he.H.useCallback(N,te)},Re.useContext=function(N){return he.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,te){return he.H.useDeferredValue(N,te)},Re.useEffect=function(N,te,oe){var ie=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,te)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(N,te,oe){return he.H.useImperativeHandle(N,te,oe)},Re.useInsertionEffect=function(N,te){return he.H.useInsertionEffect(N,te)},Re.useLayoutEffect=function(N,te){return he.H.useLayoutEffect(N,te)},Re.useMemo=function(N,te){return he.H.useMemo(N,te)},Re.useOptimistic=function(N,te){return he.H.useOptimistic(N,te)},Re.useReducer=function(N,te,oe){return he.H.useReducer(N,te,oe)},Re.useRef=function(N){return he.H.useRef(N)},Re.useState=function(N){return he.H.useState(N)},Re.useSyncExternalStore=function(N,te,oe){return he.H.useSyncExternalStore(N,te,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.1",Re}var W_;function Um(){return W_||(W_=1,Fd.exports=ib()),Fd.exports}var G=Um();const rb=LE(G);var Gd={exports:{}},Al={},Qd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function sb(){return J_||(J_=1,(function(r){function e(K,ae){var de=K.length;K.push(ae);e:for(;0<de;){var ze=de-1>>>1,N=K[ze];if(0<o(N,ae))K[ze]=ae,K[de]=N,de=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],de=K.pop();if(de!==ae){K[0]=de;e:for(var ze=0,N=K.length,te=N>>>1;ze<te;){var oe=2*(ze+1)-1,ie=K[oe],ge=oe+1,Ce=K[ge];if(0>o(ie,de))ge<N&&0>o(Ce,ie)?(K[ze]=Ce,K[ge]=de,ze=ge):(K[ze]=ie,K[oe]=de,ze=oe);else if(ge<N&&0>o(Ce,de))K[ze]=Ce,K[ge]=de,ze=ge;else break e}}return ae}function o(K,ae){var de=K.sortIndex-ae.sortIndex;return de!==0?de:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,b=3,V=!1,L=!1,X=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function be(K){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=K)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function he(K){if(X=!1,be(K),!L)if(n(g)!==null)L=!0,pe||(pe=!0,k());else{var ae=n(y);ae!==null&&ot(he,ae.startTime-K)}}var pe=!1,O=-1,w=5,R=-1;function x(){return F?!0:!(r.unstable_now()-R<w)}function M(){if(F=!1,pe){var K=r.unstable_now();R=K;var ae=!0;try{e:{L=!1,X&&(X=!1,ee(O),O=-1),V=!0;var de=b;try{t:{for(be(K),S=n(g);S!==null&&!(S.expirationTime>K&&x());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,b=S.priorityLevel;var N=ze(S.expirationTime<=K);if(K=r.unstable_now(),typeof N=="function"){S.callback=N,be(K),ae=!0;break t}S===n(g)&&s(g),be(K)}else s(g);S=n(g)}if(S!==null)ae=!0;else{var te=n(y);te!==null&&ot(he,te.startTime-K),ae=!1}}break e}finally{S=null,b=de,V=!1}ae=void 0}}finally{ae?k():pe=!1}}}var k;if(typeof re=="function")k=function(){re(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,kt=C.port2;C.port1.onmessage=M,k=function(){kt.postMessage(null)}}else k=function(){ne(M,0)};function ot(K,ae){O=ne(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var de=b;b=ae;try{return K()}finally{b=de}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=b;b=K;try{return ae()}finally{b=de}},r.unstable_scheduleCallback=function(K,ae,de){var ze=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,K={id:E++,callback:ae,priorityLevel:K,startTime:de,expirationTime:N,sortIndex:-1},de>ze?(K.sortIndex=de,e(y,K),n(g)===null&&K===n(y)&&(X?(ee(O),O=-1):X=!0,ot(he,de-ze))):(K.sortIndex=N,e(g,K),L||V||(L=!0,pe||(pe=!0,k()))),K},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(K){var ae=b;return function(){var de=b;b=ae;try{return K.apply(this,arguments)}finally{b=de}}}})(Kd)),Kd}var ev;function ab(){return ev||(ev=1,Qd.exports=sb()),Qd.exports}var Yd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function ob(){if(tv)return Yt;tv=1;var r=Um();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Yt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:V}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Yt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,y){return g(y)},Yt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var nv;function lb(){if(nv)return Yd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yd.exports=ob(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function ub(){if(iv)return Al;iv=1;var r=ab(),e=Um(),n=lb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function kt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case F:return"Profiler";case X:return"StrictMode";case he:return"Suspense";case pe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:kt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return kt(t(i))}catch{}}return null}var ot=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],N=-1;function te(t){return{current:t}}function oe(t){0>N||(t.current=ze[N],ze[N]=null,N--)}function ie(t,i){N++,ze[N]=t.current,t.current=i}var ge=te(null),Ce=te(null),Ae=te(null),Nt=te(null);function We(t,i){switch(ie(Ae,i),ie(Ce,t),ie(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?S_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=S_(i),t=b_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),ie(ge,t)}function Fn(){oe(ge),oe(Ce),oe(Ae)}function nr(t){t.memoizedState!==null&&ie(Nt,t);var i=ge.current,a=b_(i,t.type);i!==a&&(ie(Ce,t),ie(ge,a))}function yi(t){Ce.current===t&&(oe(ge),oe(Ce)),Nt.current===t&&(oe(Nt),gl._currentValue=de)}var Xr=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Wr=r.unstable_cancelCallback,fo=r.unstable_shouldYield,su=r.unstable_requestPaint,vn=r.unstable_now,qh=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,Qs=r.unstable_UserBlockingPriority,Jr=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,Ks=r.unstable_IdlePriority,po=r.log,au=r.unstable_setDisableYieldValue,lt=null,Fe=null;function un(t){if(typeof po=="function"&&au(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Qt=Math.clz32?Math.clz32:es,ou=Math.log,Fh=Math.LN2;function es(t){return t>>>=0,t===0?32:31-(ou(t)/Fh|0)|0}var ts=256,ns=4194304;function Mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ys(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Mn(l):(v&=T,v!==0?h=Mn(v):a||(a=T&~t,a!==0&&(h=Mn(a))))):(T=l&~d,T!==0?h=Mn(T):v!==0?h=Mn(v):a||(a=l&~t,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function is(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function go(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var t=ts;return ts<<=1,(ts&4194048)===0&&(ts=256),t}function _o(){var t=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Qt(a),W=1<<Y;T[Y]=0,I[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var H=q[Y];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&Gn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Gn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Eo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $s(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:H_(t.type))}function lu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var nt=Math.random().toString(36).slice(2),St="__reactFiber$"+nt,pt="__reactProps$"+nt,En="__reactContainer$"+nt,To="__reactEvents$"+nt,Gh="__reactListeners$"+nt,sr="__reactHandles$"+nt,uu="__reactResources$"+nt,rs="__reactMarker$"+nt;function ar(t){delete t[St],delete t[pt],delete t[To],delete t[Gh],delete t[sr]}function Ei(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[En]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=C_(t);t!==null;){if(a=t[St])return a;t=C_(t)}return i}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[St]||t[En]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Jt(t){var i=t[uu];return i||(i=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[rs]=!0}var Ao=new Set,Xs={};function Vn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Xs[t]=i,t=0;t<i.length;t++)Ao.add(i[t])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},ss={};function fu(t){return Xr.call(ss,t)?!0:Xr.call(hu,t)?!1:cu.test(t)?ss[t]=!0:(hu[t]=!0,!1)}function or(t,i,a){if(fu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var as,du;function Ai(t){if(as===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);as=i&&i[1]||"",du=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+t+du}var Zs=!1;function Ws(t,i){if(!t||Zs)return"";Zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var q=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){q=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){q=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function So(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Ws(t.type,!1);case 11:return Ws(t.type.render,!1);case 1:return Ws(t.type,!0);case 31:return Ai("Activity");default:return""}}function Js(t){try{var i="";do i+=So(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qh(t){var i=bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ea(t){t._valueTracker||(t._valueTracker=Qh(t))}function wo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kh=/[\n"\\]/g;function gt(t){return t.replace(Kh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?lr(t,v,en(i)):a!=null?lr(t,v,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function ls(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function lr(t,i,a){i==="number"&&os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ke(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function us(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||cs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ro(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&mu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&mu(t,d,i[d])}function Io(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(t){return $h.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bi=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,Ri=null;function Co(t){var i=Qn(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&wo(l)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Si(t,!!a.multiple,i,!1)}}}var $n=!1;function pu(t,i,a){if($n)return t(i,a);$n=!0;try{var l=t(i);return l}finally{if($n=!1,(wi!==null||Ri!==null)&&(lc(),wi&&(i=wi,t=Ri,Ri=wi=null,Co(i),t)))for(i=0;i<t.length;i++)Co(t[i])}}function hs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Pn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Sn=!1}var Xn=null,ur=null,Ii=null;function No(){if(Ii)return Ii;var t,i=ur,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function Zn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Do(){return!1}function Dt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Do,this.isPropagationStopped=Do,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Dt(qe),ds=E({},qe,{view:0,detail:0}),gu=Dt(ds),ia,ra,Jn,ms=E({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(ia=t.screenX-Jn.screenX,ra=t.screenY-Jn.screenY):ra=ia=0,Jn=t),ia)},movementY:function(t){return"movementY"in t?t.movementY:ra}}),bn=Dt(ms),yu=E({},ms,{dataTransfer:0}),Xh=Dt(yu),ps=E({},ds,{relatedTarget:0}),sa=Dt(ps),xo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=Dt(xo),_u=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oa=Dt(_u),Zh=E({},qe,{data:0}),Oo=Dt(Zh),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Eu[t])?!!i[t]:!1}function ys(){return Mo}var Tu=E({},ds,{key:function(t){if(t.key){var i=gs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(t){return t.type==="keypress"?Zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),la=Dt(Tu),Au=E({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=Dt(Au),Ci=E({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Su=Dt(Ci),bu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=Dt(bu),Ru=E({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=Dt(Ru),tn=E({},qe,{newState:0,oldState:0}),Iu=Dt(tn),Cu=[9,13,27,32],ei=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var p=Pn&&"TextEvent"in window&&!c,_=Pn&&(!ei||c&&8<c&&11>=c),A=" ",U=!1;function Q(t,i){switch(t){case"keyup":return Cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function bt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!ei&&Q(t,i)?(t=No(),Ii=ur=Xn=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xt[t.type]:i==="textarea"}function Ni(t,i,a,l){wi?Ri?Ri.push(l):Ri=[l]:wi=l,i=mc(i,"onChange"),0<i.length&&(a=new na("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ti=null;function Po(t){__(t,0)}function Nu(t){var i=Kn(t);if(wo(i))return t}function jp(t,i){if(t==="change")return i}var zp=!1;if(Pn){var Wh;if(Pn){var Jh="oninput"in document;if(!Jh){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Jh=typeof Bp.oninput=="function"}Wh=Jh}else Wh=!1;zp=Wh&&(!document.documentMode||9<document.documentMode)}function qp(){Ut&&(Ut.detachEvent("onpropertychange",Hp),ti=Ut=null)}function Hp(t){if(t.propertyName==="value"&&Nu(ti)){var i=[];Ni(i,ti,t,An(t)),pu(Po,i)}}function xA(t,i,a){t==="focusin"?(qp(),Ut=i,ti=a,Ut.attachEvent("onpropertychange",Hp)):t==="focusout"&&qp()}function OA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(ti)}function MA(t,i){if(t==="click")return Nu(i)}function VA(t,i){if(t==="input"||t==="change")return Nu(i)}function PA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:PA;function ko(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Xr.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,i){var a=Fp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Qp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Qp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=os(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=os(t.document)}return i}function ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kA=Pn&&"documentMode"in document&&11>=document.documentMode,ca=null,tf=null,Lo=null,nf=!1;function Yp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||ca==null||ca!==os(l)||(l=ca,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Lo&&ko(Lo,l)||(Lo=l,l=mc(tf,"onSelect"),0<l.length&&(i=new na("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ca)))}function _s(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ha={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},rf={},$p={};Pn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function vs(t){if(rf[t])return rf[t];if(!ha[t])return t;var i=ha[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in $p)return rf[t]=i[a];return t}var Xp=vs("animationend"),Zp=vs("animationiteration"),Wp=vs("animationstart"),LA=vs("transitionrun"),UA=vs("transitionstart"),jA=vs("transitioncancel"),Jp=vs("transitionend"),eg=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function kn(t,i){eg.set(t,i),Vn(i,[t])}var tg=new WeakMap;function wn(t,i){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Js(i)},tg.set(t,i),i)}return{value:t,source:i,stack:Js(i)}}var Rn=[],fa=0,af=0;function Du(){for(var t=fa,i=af=fa=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ng(a,h,d)}}function xu(t,i,a,l){Rn[fa++]=t,Rn[fa++]=i,Rn[fa++]=a,Rn[fa++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,i,a,l){return xu(t,i,a,l),Ou(t)}function da(t,i){return xu(t,null,null,i),Ou(t)}function ng(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ou(t){if(50<ll)throw ll=0,dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ma={};function zA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,a,l){return new zA(t,i,a,l)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,i){var a=t.alternate;return a===null?(a=fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ig(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Mu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")lf(t)&&(v=1);else if(typeof t=="string")v=qS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=fn(31,a,i,h),t.elementType=R,t.lanes=d,t;case L:return Es(a.children,h,d,i);case X:v=8,h|=24;break;case F:return t=fn(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case he:return t=fn(13,a,i,h),t.elementType=he,t.lanes=d,t;case pe:return t=fn(19,a,i,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case re:v=10;break e;case ee:v=9;break e;case be:v=11;break e;case O:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=fn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Es(t,i,a,l){return t=fn(7,t,l,i),t.lanes=a,t}function uf(t,i,a){return t=fn(6,t,null,i),t.lanes=a,t}function cf(t,i,a){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var pa=[],ga=0,Vu=null,Pu=0,In=[],Cn=0,Ts=null,xi=1,Oi="";function As(t,i){pa[ga++]=Pu,pa[ga++]=Vu,Vu=t,Pu=i}function rg(t,i,a){In[Cn++]=xi,In[Cn++]=Oi,In[Cn++]=Ts,Ts=t;var l=xi;t=Oi;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,xi=1<<32-Qt(i)+h|a<<h|l,Oi=d+t}else xi=1<<d|a<<h|l,Oi=t}function hf(t){t.return!==null&&(As(t,1),rg(t,1,0))}function ff(t){for(;t===Vu;)Vu=pa[--ga],pa[ga]=null,Pu=pa[--ga],pa[ga]=null;for(;t===Ts;)Ts=In[--Cn],In[Cn]=null,Oi=In[--Cn],In[Cn]=null,xi=In[--Cn],In[Cn]=null}var nn=null,ut=null,Be=!1,Ss=null,ni=!1,df=Error(s(519));function bs(t){var i=Error(s(418,""));throw zo(wn(i,t)),df}function sg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[pt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)xe(cl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),us(i,l.value,l.defaultValue,l.children),ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||A_(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=pc),i=!0):i=!1,i||bs(t)}function ag(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function Uo(t){if(t!==nn)return!1;if(!Be)return ag(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nd(t.type,t.memoizedProps)),a=!a),a&&ut&&bs(t),ag(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,wr(t.type)?(t=Md,Md=null,ut=t):ut=i):ut=nn?Un(t.stateNode.nextSibling):null;return!0}function jo(){ut=nn=null,Be=!1}function og(){var t=Ss;return t!==null&&(an===null?an=t:an.push.apply(an,t),Ss=null),t}function zo(t){Ss===null?Ss=[t]:Ss.push(t)}var mf=te(null),ws=null,Mi=null;function cr(t,i,a){ie(mf,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=mf.current,oe(mf)}function pf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function gf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),pf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),pf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Bo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&gf(i,t,a,l),i.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){ws=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return lg(ws,t)}function Lu(t,i){return ws===null&&Rs(t),lg(t,i)}function lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var BA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},qA=r.unstable_scheduleCallback,HA=r.unstable_NormalPriority,Rt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new BA,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&qA(HA,function(){t.controller.abort()})}var Ho=null,_f=0,ya=0,_a=null;function FA(t,i){if(Ho===null){var a=Ho=[];_f=0,ya=Ed(),_a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,i.then(ug,ug),i}function ug(){if(--_f===0&&Ho!==null){_a!==null&&(_a.status="fulfilled");var t=Ho;Ho=null,ya=0,_a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function GA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var cg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FA(t,i),cg!==null&&cg(t,i)};var Is=te(null);function vf(){var t=Is.current;return t!==null?t:Je.pooledCache}function Uu(t,i){i===null?ie(Is,Is.current):ie(Is,i.pool)}function hg(){var t=vf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Fo=Error(s(460)),fg=Error(s(474)),ju=Error(s(542)),Ef={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t;default:if(typeof i.status=="string")i.then(zu,zu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t}throw Go=i,Fo}}var Go=null;function pg(){if(Go===null)throw Error(s(459));var t=Go;return Go=null,t}function gg(t){if(t===Fo||t===ju)throw Error(s(483))}var hr=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ou(t),ng(t,null,a),i}return xu(t,l,i,a),Ou(t)}function Qo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Eo(t,a)}}function Sf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var bf=!1;function Ko(){if(bf){var t=_a;if(t!==null)throw t}}function Yo(t,i,a,l){bf=!1;var h=t.updateQueue;hr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=I))}if(d!==null){var W=h.baseState;v=0,Y=B=I=null,T=d;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Le&q)===q:(l&q)===q){q!==0&&q===ya&&(bf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ye=T;q=i;var Xe=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){W=Ee.call(Xe,W,q);break e}W=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,q=typeof Ee=="function"?Ee.call(Xe,W,q):Ee,q==null)break e;W=E({},W,q);break e;case 2:hr=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=H,I=W):Y=Y.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(I=W),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Tr|=v,t.lanes=v,t.memoizedState=W}}function yg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function _g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yg(a[t],i)}var va=te(null),Bu=te(0);function vg(t,i){t=Bi,ie(Bu,t),ie(va,i),Bi=t|i.baseLanes}function wf(){ie(Bu,Bi),ie(va,va.current)}function Rf(){Bi=Bu.current,oe(va),oe(Bu)}var mr=0,Ie=null,Ye=null,yt=null,qu=!1,Ea=!1,Cs=!1,Hu=0,$o=0,Ta=null,QA=0;function ft(){throw Error(s(321))}function If(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function Cf(t,i,a,l,h,d){return mr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?ny:iy,Cs=!1,d=a(l,h),Cs=!1,Ea&&(d=Tg(i,a,l,h)),Eg(t),d}function Eg(t){K.H=$u;var i=Ye!==null&&Ye.next!==null;if(mr=0,yt=Ye=Ie=null,qu=!1,$o=0,Ta=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&ku(t)&&(Ot=!0))}function Tg(t,i,a,l){Ie=t;var h=0;do{if(Ea&&(Ta=null),$o=0,Ea=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=JA,d=i(a,l)}while(Ea);return d}function KA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Xo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Nf(){var t=Hu!==0;return Hu=0,t}function Df(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function xf(t){if(qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qu=!1}mr=0,yt=Ye=Ie=null,Ea=!1,$o=Hu=0,Ta=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(t){var i=$o;return $o+=1,Ta===null&&(Ta=[]),t=mg(Ta,t,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?ny:iy),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xo(t);if(t.$$typeof===re)return Kt(t)}throw Error(s(438,String(t)))}function Mf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Of(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function Pi(t,i){return typeof i=="function"?i(t):i}function Gu(t){var i=_t();return Vf(i,Ye,t)}function Vf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Y=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Le&W)===W:(mr&W)===W){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===ya&&(Y=!0);else if((mr&q)===q){B=B.next,q===ya&&(Y=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=W,v=d):I=I.next=W,Ie.lanes|=q,Tr|=q;W=B.action,Cs&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else q={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=q,v=d):I=I.next=q,Ie.lanes|=W,Tr|=W;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!hn(d,t.memoizedState)&&(Ot=!0,Y&&(a=_a,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ag(t,i,a){var l=Ie,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Ot=!0),h=h.queue;var T=wg.bind(null,l,h,t);if(Zo(2048,8,T,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Aa(9,Qu(),bg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(mr&124)!==0||Sg(l,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Of(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function bg(t,i,a,l){i.value=a,i.getSnapshot=l,Rg(i)&&Ig(t)}function wg(t,i,a){return a(function(){Rg(i)&&Ig(t)})}function Rg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function Ig(t){var i=da(t,2);i!==null&&yn(i,t,2)}function kf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Cs){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function Cg(t,i,a,l){return t.baseState=a,Vf(t,Ye,typeof l=="function"?l:Pi)}function YA(t,i,a,l,h){if(Yu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ng(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ng(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),I=K.S;I!==null&&I(v,T),Dg(t,i,T)}catch(B){Lf(t,i,B)}finally{K.T=d}}else try{d=a(h,l),Dg(t,i,d)}catch(B){Lf(t,i,B)}}function Dg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xg(t,i,l)},function(l){return Lf(t,i,l)}):xg(t,i,a)}function xg(t,i,a){i.status="fulfilled",i.value=a,Og(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ng(t,a)))}function Lf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Og(i),i=i.next;while(i!==l)}t.action=null}function Og(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Mg(t,i){return i}function Vg(t,i){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(ut){t:{for(var h=ut,d=ni;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Un(h.nextSibling),l=h.data==="F!";break e}}bs(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=l,a=Jg.bind(null,Ie,l),l.dispatch=a,l=kf(!1),d=qf.bind(null,Ie,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=YA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Pg(t){var i=_t();return kg(i,Ye,t)}function kg(t,i,a){if(i=Vf(t,i,Mg)[0],t=Gu(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Xo(i)}catch(v){throw v===Fo?ju:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Aa(9,Qu(),$A.bind(null,h,a),null)),[l,d,t]}function $A(t,i){t.action=i}function Lg(t){var i=_t(),a=Ye;if(a!==null)return kg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Aa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Of(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Qu(){return{destroy:void 0,resource:void 0}}function Ug(){return _t().memoizedState}function Ku(t,i,a,l){var h=rn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Aa(1|i,Qu(),a,l)}function Zo(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&If(l,Ye.memoizedState.deps)?h.memoizedState=Aa(i,d,a,l):(Ie.flags|=t,h.memoizedState=Aa(1|i,d,a,l))}function jg(t,i){Ku(8390656,8,t,i)}function zg(t,i){Zo(2048,8,t,i)}function Bg(t,i){return Zo(4,2,t,i)}function qg(t,i){return Zo(4,4,t,i)}function Hg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fg(t,i,a){a=a!=null?a.concat([t]):null,Zo(4,4,Hg.bind(null,i,t),a)}function Uf(){}function Gg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&If(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Qg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),Cs){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l}function jf(t,i,a){return a===void 0||(mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=$y(),Ie.lanes|=t,Tr|=t,a)}function Kg(t,i,a,l){return hn(a,i)?a:va.current!==null?(t=jf(t,a,l),hn(t,i)||(Ot=!0),t):(mr&42)===0?(Ot=!0,t.memoizedState=a):(t=$y(),Ie.lanes|=t,Tr|=t,i)}function Yg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,qf(t,!1,i,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=GA(I,l);Wo(t,i,Y,gn(t))}else Wo(t,i,l,gn(t))}catch(W){Wo(t,i,{then:function(){},status:"rejected",reason:W},gn())}finally{ae.p=d,K.T=v}}function XA(){}function zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=$g(t).queue;Yg(t,h,i,de,a===null?XA:function(){return Xg(t),a(l)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xg(t){var i=$g(t).next.queue;Wo(t,i,{},gn())}function Bf(){return Kt(gl)}function Zg(){return _t().memoizedState}function Wg(){return _t().memoizedState}function ZA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=fr(a);var l=dr(i,t,a);l!==null&&(yn(l,i,a),Qo(l,i,a)),i={cache:yf()},t.payload=i;return}i=i.return}}function WA(t,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?ey(i,a):(a=of(t,i,a,l),a!==null&&(yn(a,t,l),ty(a,i,l)))}function Jg(t,i,a){var l=gn();Wo(t,i,a,l)}function Wo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))ey(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return xu(t,i,h,0),Je===null&&Du(),!1}catch{}finally{}if(a=of(t,i,h,l),a!==null)return yn(a,t,l),ty(a,i,l),!0}return!1}function qf(t,i,a,l){if(l={lane:2,revertLane:Ed(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(i)throw Error(s(479))}else i=of(t,a,l,2),i!==null&&yn(i,t,2)}function Yu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function ey(t,i){Ea=qu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ty(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Eo(t,a)}}var $u={readContext:Kt,use:Fu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},ny={readContext:Kt,use:Fu,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:jg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,Hg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ku(4194308,4,t,i)},useInsertionEffect:function(t,i){Ku(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Cs){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Cs){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,a=Jg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(t,i){var a=rn();return jf(a,t,i)},useTransition:function(){var t=kf(!1);return t=Yg.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||Sg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,jg(wg.bind(null,l,d,t),[t]),l.flags|=2048,Aa(9,Qu(),bg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=Je.identifierPrefix;if(Be){var a=Oi,l=xi;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Hu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=QA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Bf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Mf,useCacheRefresh:function(){return rn().memoizedState=ZA.bind(null,Ie)}},iy={readContext:Kt,use:Fu,useCallback:Gg,useContext:Kt,useEffect:zg,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:Gu,useRef:Ug,useState:function(){return Gu(Pi)},useDebugValue:Uf,useDeferredValue:function(t,i){var a=_t();return Kg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Gu(Pi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Xo(t),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:Bf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,i){var a=_t();return Cg(a,Ye,t,i)},useMemoCache:Mf,useCacheRefresh:Wg},JA={readContext:Kt,use:Fu,useCallback:Gg,useContext:Kt,useEffect:zg,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:Pf,useRef:Ug,useState:function(){return Pf(Pi)},useDebugValue:Uf,useDeferredValue:function(t,i){var a=_t();return Ye===null?jf(a,t,i):Kg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Pf(Pi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Xo(t),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:Bf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,i){var a=_t();return Ye!==null?Cg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Wg},Sa=null,Jo=0;function Xu(t){var i=Jo;return Jo+=1,Sa===null&&(Sa=[]),mg(Sa,t,i)}function el(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ry(t){var i=t._init;return i(t._payload)}function sy(t){function i(P,D){if(t){var j=P.deletions;j===null?(P.deletions=[D],P.flags|=16):j.push(D)}}function a(P,D){if(!t)return null;for(;D!==null;)i(P,D),D=D.sibling;return null}function l(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function h(P,D){return P=Di(P,D),P.index=0,P.sibling=null,P}function d(P,D,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<D?(P.flags|=67108866,D):j):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,D,j,$){return D===null||D.tag!==6?(D=uf(j,P.mode,$),D.return=P,D):(D=h(D,j),D.return=P,D)}function I(P,D,j,$){var ce=j.type;return ce===L?Y(P,D,j.props.children,$,j.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&ry(ce)===D.type)?(D=h(D,j.props),el(D,j),D.return=P,D):(D=Mu(j.type,j.key,j.props,null,P.mode,$),el(D,j),D.return=P,D)}function B(P,D,j,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=cf(j,P.mode,$),D.return=P,D):(D=h(D,j.children||[]),D.return=P,D)}function Y(P,D,j,$,ce){return D===null||D.tag!==7?(D=Es(j,P.mode,$,ce),D.return=P,D):(D=h(D,j),D.return=P,D)}function W(P,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=uf(""+D,P.mode,j),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return j=Mu(D.type,D.key,D.props,null,P.mode,j),el(j,D),j.return=P,j;case V:return D=cf(D,P.mode,j),D.return=P,D;case w:var $=D._init;return D=$(D._payload),W(P,D,j)}if(ot(D)||k(D))return D=Es(D,P.mode,j,null),D.return=P,D;if(typeof D.then=="function")return W(P,Xu(D),j);if(D.$$typeof===re)return W(P,Lu(P,D),j);Zu(P,D)}return null}function q(P,D,j,$){var ce=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:T(P,D,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===ce?I(P,D,j,$):null;case V:return j.key===ce?B(P,D,j,$):null;case w:return ce=j._init,j=ce(j._payload),q(P,D,j,$)}if(ot(j)||k(j))return ce!==null?null:Y(P,D,j,$,null);if(typeof j.then=="function")return q(P,D,Xu(j),$);if(j.$$typeof===re)return q(P,D,Lu(P,j),$);Zu(P,j)}return null}function H(P,D,j,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(j)||null,T(D,P,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return P=P.get($.key===null?j:$.key)||null,I(D,P,$,ce);case V:return P=P.get($.key===null?j:$.key)||null,B(D,P,$,ce);case w:var Ne=$._init;return $=Ne($._payload),H(P,D,j,$,ce)}if(ot($)||k($))return P=P.get(j)||null,Y(D,P,$,ce,null);if(typeof $.then=="function")return H(P,D,j,Xu($),ce);if($.$$typeof===re)return H(P,D,j,Lu(D,$),ce);Zu(D,$)}return null}function Ee(P,D,j,$){for(var ce=null,Ne=null,fe=D,_e=D=0,Vt=null;fe!==null&&_e<j.length;_e++){fe.index>_e?(Vt=fe,fe=null):Vt=fe.sibling;var je=q(P,fe,j[_e],$);if(je===null){fe===null&&(fe=Vt);break}t&&fe&&je.alternate===null&&i(P,fe),D=d(je,D,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je,fe=Vt}if(_e===j.length)return a(P,fe),Be&&As(P,_e),ce;if(fe===null){for(;_e<j.length;_e++)fe=W(P,j[_e],$),fe!==null&&(D=d(fe,D,_e),Ne===null?ce=fe:Ne.sibling=fe,Ne=fe);return Be&&As(P,_e),ce}for(fe=l(fe);_e<j.length;_e++)Vt=H(fe,P,_e,j[_e],$),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?_e:Vt.key),D=d(Vt,D,_e),Ne===null?ce=Vt:Ne.sibling=Vt,Ne=Vt);return t&&fe.forEach(function(Dr){return i(P,Dr)}),Be&&As(P,_e),ce}function ye(P,D,j,$){if(j==null)throw Error(s(151));for(var ce=null,Ne=null,fe=D,_e=D=0,Vt=null,je=j.next();fe!==null&&!je.done;_e++,je=j.next()){fe.index>_e?(Vt=fe,fe=null):Vt=fe.sibling;var Dr=q(P,fe,je.value,$);if(Dr===null){fe===null&&(fe=Vt);break}t&&fe&&Dr.alternate===null&&i(P,fe),D=d(Dr,D,_e),Ne===null?ce=Dr:Ne.sibling=Dr,Ne=Dr,fe=Vt}if(je.done)return a(P,fe),Be&&As(P,_e),ce;if(fe===null){for(;!je.done;_e++,je=j.next())je=W(P,je.value,$),je!==null&&(D=d(je,D,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je);return Be&&As(P,_e),ce}for(fe=l(fe);!je.done;_e++,je=j.next())je=H(fe,P,_e,je.value,$),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?_e:je.key),D=d(je,D,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je);return t&&fe.forEach(function(eb){return i(P,eb)}),Be&&As(P,_e),ce}function Xe(P,D,j,$){if(typeof j=="object"&&j!==null&&j.type===L&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var ce=j.key;D!==null;){if(D.key===ce){if(ce=j.type,ce===L){if(D.tag===7){a(P,D.sibling),$=h(D,j.props.children),$.return=P,P=$;break e}}else if(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&ry(ce)===D.type){a(P,D.sibling),$=h(D,j.props),el($,j),$.return=P,P=$;break e}a(P,D);break}else i(P,D);D=D.sibling}j.type===L?($=Es(j.props.children,P.mode,$,j.key),$.return=P,P=$):($=Mu(j.type,j.key,j.props,null,P.mode,$),el($,j),$.return=P,P=$)}return v(P);case V:e:{for(ce=j.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(P,D.sibling),$=h(D,j.children||[]),$.return=P,P=$;break e}else{a(P,D);break}else i(P,D);D=D.sibling}$=cf(j,P.mode,$),$.return=P,P=$}return v(P);case w:return ce=j._init,j=ce(j._payload),Xe(P,D,j,$)}if(ot(j))return Ee(P,D,j,$);if(k(j)){if(ce=k(j),typeof ce!="function")throw Error(s(150));return j=ce.call(j),ye(P,D,j,$)}if(typeof j.then=="function")return Xe(P,D,Xu(j),$);if(j.$$typeof===re)return Xe(P,D,Lu(P,j),$);Zu(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(a(P,D.sibling),$=h(D,j),$.return=P,P=$):(a(P,D),$=uf(j,P.mode,$),$.return=P,P=$),v(P)):a(P,D)}return function(P,D,j,$){try{Jo=0;var ce=Xe(P,D,j,$);return Sa=null,ce}catch(fe){if(fe===Fo||fe===ju)throw fe;var Ne=fn(29,fe,null,P.mode);return Ne.lanes=$,Ne.return=P,Ne}finally{}}}var ba=sy(!0),ay=sy(!1),Nn=te(null),ii=null;function pr(t){var i=t.alternate;ie(It,It.current&1),ie(Nn,t),ii===null&&(i===null||va.current!==null||i.memoizedState!==null)&&(ii=t)}function oy(t){if(t.tag===22){if(ie(It,It.current),ie(Nn,t),ii===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ii=t)}}else gr()}function gr(){ie(It,It.current),ie(Nn,Nn.current)}function ki(t){oe(Nn),ii===t&&(ii=null),oe(It)}var It=te(0);function Wu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Od(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Hf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ff={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=gn(),h=fr(l);h.payload=i,a!=null&&(h.callback=a),i=dr(t,h,l),i!==null&&(yn(i,t,l),Qo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=gn(),h=fr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=dr(t,h,l),i!==null&&(yn(i,t,l),Qo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),l=fr(a);l.tag=2,i!=null&&(l.callback=i),i=dr(t,l,a),i!==null&&(yn(i,t,a),Qo(i,t,a))}};function ly(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!ko(a,l)||!ko(h,d):!0}function uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Ff.enqueueReplaceState(i,i.state,null)}function Ns(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cy(t){Ju(t)}function hy(t){console.error(t)}function fy(t){Ju(t)}function ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function dy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,a){return a=fr(a),a.tag=3,a.payload={element:null},a.callback=function(){ec(t,i)},a}function my(t){return t=fr(t),t.tag=3,t}function py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){dy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){dy(i,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function eS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Bo(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ii===null?pd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ef?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),yd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ef?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),yd(t,l,h)),!1}throw Error(s(435,a.tag))}return yd(t,l,h),pd(),!1}if(Be)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==df&&(t=Error(s(422),{cause:l}),zo(wn(t,a)))):(l!==df&&(i=Error(s(423),{cause:l}),zo(wn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=wn(l,a),h=Gf(t.stateNode,l,h),Sf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),ol===null?ol=[d]:ol.push(d),ct!==4&&(ct=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Gf(a.stateNode,l,t),Sf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),py(h,t,a,l),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var gy=Error(s(461)),Ot=!1;function jt(t,i,a,l){i.child=t===null?ay(i,null,a,l):ba(i,t.child,a,l)}function yy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Rs(i),l=Cf(t,i,a,v,d,h),T=Nf(),t!==null&&!Ot?(Df(t,i,h),Li(t,i,h)):(Be&&T&&hf(i),i.flags|=1,jt(t,i,l,h),i.child)}function _y(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,vy(t,i,d,l,h)):(t=Mu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Jf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(v,l)&&t.ref===i.ref)return Li(t,i,h)}return i.flags|=1,t=Di(d,l),t.ref=i.ref,t.return=i,i.child=t}function vy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(ko(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,Jf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Li(t,i,h)}return Qf(t,i,a,l,h)}function Ey(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ty(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(i,d!==null?d.cachePool:null),d!==null?vg(i,d):wf(),oy(i);else return i.lanes=i.childLanes=536870912,Ty(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Uu(i,d.cachePool),vg(i,d),gr(),i.memoizedState=null):(t!==null&&Uu(i,null),wf(),gr());return jt(t,i,h,a),i.child}function Ty(t,i,a,l){var h=vf();return h=h===null?null:{parent:Rt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Uu(i,null),wf(),oy(i),t!==null&&Bo(t,i,l,!0),null}function tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Qf(t,i,a,l,h){return Rs(i),a=Cf(t,i,a,l,void 0,h),l=Nf(),t!==null&&!Ot?(Df(t,i,h),Li(t,i,h)):(Be&&l&&hf(i),i.flags|=1,jt(t,i,a,h),i.child)}function Ay(t,i,a,l,h,d){return Rs(i),i.updateQueue=null,a=Tg(i,l,a,h),Eg(t),l=Nf(),t!==null&&!Ot?(Df(t,i,d),Li(t,i,d)):(Be&&l&&hf(i),i.flags|=1,jt(t,i,a,d),i.child)}function Sy(t,i,a,l,h){if(Rs(i),i.stateNode===null){var d=ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Tf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Hf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ff.enqueueReplaceState(d,d.state,null),Yo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ns(a,T);d.props=I;var B=d.context,Y=a.contextType;v=ma,typeof Y=="object"&&Y!==null&&(v=Kt(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&uy(i,d,l,v),hr=!1;var q=i.memoizedState;d.state=q,Yo(i,l,d,h),Ko(),B=i.memoizedState,T||q!==B||hr?(typeof W=="function"&&(Hf(i,a,W,l),B=i.memoizedState),(I=hr||ly(i,a,I,l,q,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Af(t,i),v=i.memoizedProps,Y=Ns(a,v),d.props=Y,W=i.pendingProps,q=d.context,B=a.contextType,I=ma,typeof B=="object"&&B!==null&&(I=Kt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||q!==I)&&uy(i,d,l,I),hr=!1,q=i.memoizedState,d.state=q,Yo(i,l,d,h),Ko();var H=i.memoizedState;v!==W||q!==H||hr||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof T=="function"&&(Hf(i,a,T,l),H=i.memoizedState),(Y=hr||ly(i,a,Y,l,q,H,I)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ba(i,t.child,null,h),i.child=ba(i,null,a,h)):jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Li(t,i,h),t}function by(t,i,a,l){return jo(),i.flags|=256,jt(t,i,a,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:hg()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function wy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?pr(i):gr(),Be){var T=ut,I;if(I=T){e:{for(I=T,T=ni;I.nodeType!==8;){if(!T){T=null;break e}if(I=Un(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ts!==null?{id:xi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,nn=i,ut=null,I=!0):I=!1}I||bs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Od(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(gr(),h=i.mode,T=nc({mode:"hidden",children:T},h),l=Es(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Yf(a),h.childLanes=$f(t,v,a),i.memoizedState=Kf,l):(pr(i),Xf(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=Zf(t,i,a)):i.memoizedState!==null?(gr(),i.child=t.child,i.flags|=128,i=null):(gr(),h=l.fallback,T=i.mode,l=nc({mode:"visible",children:l.children},T),h=Es(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ba(i,t.child,null,a),l=i.child,l.memoizedState=Yf(a),l.childLanes=$f(t,v,a),i.memoizedState=Kf,i=h);else if(pr(i),Od(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,zo({value:l,source:null,stack:null}),i=Zf(t,i,a)}else if(Ot||Bo(t,i,a,!1),v=(a&t.childLanes)!==0,Ot||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:ir(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,da(t,l),yn(v,t,l),gy;T.data==="$?"||pd(),i=Zf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ut=Un(T.nextSibling),nn=i,Be=!0,Ss=null,ni=!1,t!==null&&(In[Cn++]=xi,In[Cn++]=Oi,In[Cn++]=Ts,xi=t.id,Oi=t.overflow,Ts=i),i=Xf(i,l.children),i.flags|=4096);return i}return h?(gr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Di(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Di(B,h):(h=Es(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Yf(a):(I=T.cachePool,I!==null?(B=Rt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=hg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=$f(t,v,a),i.memoizedState=Kf,l):(pr(i),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Xf(t,i){return i=nc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function nc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zf(t,i,a){return ba(i,t.child,null,a),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ry(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),pf(t.return,i,a)}function Wf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Iy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,i);else if(t.tag===19)Ry(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(i,!0,a,null,d);break;case"together":Wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Tr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Bo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Di(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function tS(t,i,a){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),cr(i,Rt,t.memoizedState.cache),jo();break;case 27:case 5:nr(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:cr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(t,i,a):(pr(i),t=Li(t,i,a),t!==null?t.sibling:null);pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Bo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,Ey(t,i,a);case 24:cr(i,Rt,t.memoizedState.cache)}return Li(t,i,a)}function Cy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!Jf(t,a)&&(i.flags&128)===0)return Ot=!1,tS(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(i.flags&1048576)!==0&&rg(i,Pu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")lf(l)?(t=Ns(l,t),i.tag=1,i=Sy(null,i,l,t,a)):(i.tag=0,i=Qf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===be){i.tag=11,i=yy(null,i,l,t,a);break e}else if(h===O){i.tag=14,i=_y(null,i,l,t,a);break e}}throw i=kt(l)||l,Error(s(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ns(l,i.pendingProps),Sy(t,i,l,h,a);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Af(t,i),Yo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,cr(i,Rt,l),l!==d.cache&&gf(i,[Rt],a,!0),Ko(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=by(t,i,l,a);break e}else if(l!==h){h=wn(Error(s(424)),i),zo(h),i=by(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Un(t.firstChild),nn=i,Be=!0,Ss=null,ni=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jo(),l===h){i=Li(t,i,a);break e}jt(t,i,l,a)}i=i.child}return i;case 26:return tc(t,i),t===null?(a=O_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=gc(Ae.current).createElement(a),l[St]=i,l[pt]=t,Bt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=O_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return nr(i),t===null&&Be&&(l=i.stateNode=N_(i.type,i.pendingProps,Ae.current),nn=i,ni=!0,h=ut,wr(i.type)?(Md=h,ut=Un(l.firstChild)):ut=h),jt(t,i,i.pendingProps.children,a),tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=NS(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,nn=i,ut=Un(l.firstChild),ni=!1,h=!0):h=!1),h||bs(i)),nr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Nd(h,d)?l=null:v!==null&&Nd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(t,i,KA,null,null,a),gl._currentValue=h),tc(t,i),jt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ut)&&(a=DS(a,i.pendingProps,ni),a!==null?(i.stateNode=a,nn=i,ut=null,t=!0):t=!1),t||bs(i)),null;case 13:return wy(t,i,a);case 4:return We(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ba(i,null,l,a):jt(t,i,l,a),i.child;case 11:return yy(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,cr(i,i.type,l.value),jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Rs(i),h=Kt(h),l=l(h),i.flags|=1,jt(t,i,l,a),i.child;case 14:return _y(t,i,i.type,i.pendingProps,a);case 15:return vy(t,i,i.type,i.pendingProps,a);case 19:return Iy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Di(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ey(t,i,a);case 24:return Rs(i),l=Kt(Rt),t===null?(h=vf(),h===null&&(h=Je,d=yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Tf(i),cr(i,Rt,h)):((t.lanes&a)!==0&&(Af(t,i),Yo(i,null,null,a),Ko()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),cr(i,Rt,l)):(l=d.cache,cr(i,Rt,l),l!==h.cache&&gf(i,[Rt],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(t){t.flags|=4}function Ny(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(i)){if(i=Nn.current,i!==null&&((Le&4194048)===Le?ii!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ii))throw Go=Ef,fg;t.flags|=8192}}function ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_o():536870912,t.lanes|=i,Ca|=i)}function tl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function nS(t,i,a){var l=i.pendingProps;switch(ff(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(Rt),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Uo(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,og())),rt(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(rt(i),Ny(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),rt(i),Ny(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),rt(i),i.flags&=-16777217),null;case 27:yi(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ge.current,Uo(i)?sg(i):(t=N_(h,l,a),i.stateNode=t,Ui(i))}return rt(i),null;case 5:if(yi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=ge.current,Uo(i))sg(i);else{switch(h=gc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Uo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||A_(t.nodeValue,a)),t||bs(i)}else t=gc(t).createTextNode(l),t[St]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Uo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=og(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),ic(i,i.updateQueue),rt(i),null;case 4:return Fn(),t===null&&bd(i.stateNode.containerInfo),rt(i),null;case 10:return Vi(i.type),rt(i),null;case 19:if(oe(It),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)tl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Wu(t),d!==null){for(i.flags|=128,tl(h,!1),t=d.updateQueue,i.updateQueue=t,ic(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ig(a,t),a=a.sibling;return ie(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&vn()>ac&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Wu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ic(i,t),tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return rt(i),null}else 2*vn()-h.renderingStartTime>ac&&a!==536870912&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,t=It.current,ie(It,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return ki(i),Rf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&ic(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(Rt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iS(t,i){switch(ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(Rt),Fn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(It),null;case 4:return Fn(),null;case 10:return Vi(i.type),null;case 22:case 23:return ki(i),Rf(),t!==null&&oe(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(Rt),null;case 25:return null;default:return null}}function Dy(t,i){switch(ff(i),i.tag){case 3:Vi(Rt),Fn();break;case 26:case 27:case 5:yi(i);break;case 4:Fn();break;case 13:ki(i);break;case 19:oe(It);break;case 10:Vi(i.type);break;case 22:case 23:ki(i),Rf(),t!==null&&oe(Is);break;case 24:Vi(Rt)}}function nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function yr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Y){Ze(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ze(i,i.return,Y)}}function xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{_g(i,a)}catch(l){Ze(t,t.return,l)}}}function Oy(t,i,a){a.props=Ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function il(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function My(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function ed(t,i,a){try{var l=t.stateNode;bS(l,t.type,a,i),l[pt]=i}catch(h){Ze(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wr(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=pc));else if(l!==4&&(l===27&&wr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(nd(t,i,a),t=t.sibling;t!==null;)nd(t,i,a),t=t.sibling}function rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rc(t,i,a),t=t.sibling;t!==null;)rc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,a),i[St]=t,i[pt]=a}catch(d){Ze(t,t.return,d)}}var ji=!1,dt=!1,id=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function rS(t,i){if(t=t.containerInfo,Id=Ac,t=Kp(t),ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Y=0,W=t,q=null;t:for(;;){for(var H;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(I=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(H=W.firstChild)!==null;)q=W,W=H;for(;;){if(W===t)break t;if(q===a&&++B===h&&(T=v),q===d&&++Y===l&&(I=v),(H=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:t,selectionRange:a},Ac=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ns(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function Ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(t,a),l&4&&nl(5,a);break;case 1:if(_r(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&xy(a),l&512&&il(a,a.return);break;case 3:if(_r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_g(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:_r(t,a),i===null&&l&4&&My(a),l&512&&il(a,a.return);break;case 12:_r(t,a);break;case 13:_r(t,a),l&4&&zy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dS.bind(null,a),xS(t,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){i=i!==null&&i.memoizedState!==null||dt,h=ji;var d=dt;ji=l,(dt=i)&&!d?vr(t,a,(a.subtreeFlags&8772)!==0):_r(t,a),ji=h,dt=d}break;case 30:break;default:_r(t,a)}}function Uy(t){var i=t.alternate;i!==null&&(t.alternate=null,Uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,sn=!1;function zi(t,i,a){for(a=a.child;a!==null;)jy(t,i,a),a=a.sibling}function jy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||ri(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||ri(a,i);var l=it,h=sn;wr(a.type)&&(it=a.stateNode,sn=!1),zi(t,i,a),fl(a.stateNode),it=l,sn=h;break;case 5:dt||ri(a,i);case 6:if(l=it,h=sn,it=null,zi(t,i,a),it=l,sn=h,it!==null)if(sn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:it!==null&&(sn?(t=it,I_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),El(t)):I_(it,a.stateNode));break;case 4:l=it,h=sn,it=a.stateNode.containerInfo,sn=!0,zi(t,i,a),it=l,sn=h;break;case 0:case 11:case 14:case 15:dt||yr(2,a,i),dt||yr(4,a,i),zi(t,i,a);break;case 1:dt||(ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Oy(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,zi(t,i,a),dt=l;break;default:zi(t,i,a)}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{El(t)}catch(a){Ze(i,i.return,a)}}function sS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ky),i;default:throw Error(s(435,t.tag))}}function rd(t,i){var a=sS(t);i.forEach(function(l){var h=mS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(wr(T.type)){it=T.stateNode,sn=!1;break e}break;case 5:it=T.stateNode,sn=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(it===null)throw Error(s(160));jy(d,v,h),it=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)By(i,t),i=i.sibling}var Ln=null;function By(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(yr(3,t,t.return),nl(3,t),yr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rs]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[St]=t,ht(d),l=d;break e;case"link":var v=P_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=P_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,ht(d),l=d}t.stateNode=l}else k_(h,t.type,t.stateNode);else t.stateNode=V_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?k_(h,t.type,t.stateNode):V_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),a!==null&&l&4&&ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(H){Ze(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Ze(t,t.return,H)}}break;case 3:if(vc=null,h=Ln,Ln=yc(i.containerInfo),dn(i,t),Ln=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(H){Ze(t,t.return,H)}id&&(id=!1,qy(t));break;case 4:l=Ln,Ln=yc(t.stateNode.containerInfo),dn(i,t),mn(t),Ln=l;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cd=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=ji,Y=dt;if(ji=B||h,dt=Y||I,dn(i,t),dt=Y,ji=B,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||ji||dt||Ds(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var W=I.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Ze(I,I.return,H)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){Ze(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rd(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Vy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=td(t);rc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=td(t);rc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=td(t);nd(t,B,I);break;default:throw Error(s(161))}}catch(Y){Ze(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function _r(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(t,i.alternate,i),i=i.sibling}function Ds(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:yr(4,i,i.return),Ds(i);break;case 1:ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Oy(i,i.return,a),Ds(i);break;case 27:fl(i.stateNode);case 26:case 5:ri(i,i.return),Ds(i);break;case 22:i.memoizedState===null&&Ds(i);break;case 30:Ds(i);break;default:Ds(i)}t=t.sibling}}function vr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:vr(h,d,a),nl(4,d);break;case 1:if(vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)yg(I[h],T)}catch(B){Ze(l,l.return,B)}}a&&v&64&&xy(d),il(d,d.return);break;case 27:Py(d);case 26:case 5:vr(h,d,a),a&&l===null&&v&4&&My(d),il(d,d.return);break;case 12:vr(h,d,a);break;case 13:vr(h,d,a),a&&v&4&&zy(h,d);break;case 22:d.memoizedState===null&&vr(h,d,a),il(d,d.return);break;case 30:break;default:vr(h,d,a)}i=i.sibling}}function sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&qo(a))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t))}function si(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hy(t,i,a,l),i=i.sibling}function Hy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,l),h&2048&&nl(9,i);break;case 1:si(t,i,a,l);break;case 3:si(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){si(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else si(t,i,a,l);break;case 13:si(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?si(t,i,a,l):rl(t,i):d._visibility&2?si(t,i,a,l):(d._visibility|=2,wa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&sd(v,i);break;case 24:si(t,i,a,l),h&2048&&ad(i.alternate,i);break;default:si(t,i,a,l)}}function wa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:wa(d,v,T,I,h),nl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?wa(d,v,T,I,h):rl(d,v):(Y._visibility|=2,wa(d,v,T,I,h)),h&&B&2048&&sd(v.alternate,v);break;case 24:wa(d,v,T,I,h),h&&B&2048&&ad(v.alternate,v);break;default:wa(d,v,T,I,h)}i=i.sibling}}function rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:rl(a,l),h&2048&&sd(l.alternate,l);break;case 24:rl(a,l),h&2048&&ad(l.alternate,l);break;default:rl(a,l)}i=i.sibling}}var sl=8192;function Ra(t){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 26:Ra(t),t.flags&sl&&t.memoizedState!==null&&FS(Ln,t.memoizedState,t.memoizedProps);break;case 5:Ra(t);break;case 3:case 4:var i=Ln;Ln=yc(t.stateNode.containerInfo),Ra(t),Ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=sl,sl=16777216,Ra(t),sl=i):Ra(t));break;default:Ra(t)}}function Gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,Ky(l,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&yr(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,sc(t)):al(t);break;default:al(t)}}function sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,Ky(l,t)}Gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:yr(8,i,i.return),sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sc(i));break;default:sc(i)}t=t.sibling}}function Ky(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:yr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(Uy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var aS={getCacheForType:function(t){var i=Kt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},oS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Qe=0,pn=null,Er=!1,Ia=!1,od=!1,Bi=0,ct=0,Tr=0,xs=0,ld=0,Dn=0,Ca=0,ol=null,an=null,ud=!1,cd=0,ac=1/0,oc=null,Ar=null,zt=0,Sr=null,Na=null,Da=0,hd=0,fd=null,Yy=null,ll=0,dd=null;function gn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=ya;return t!==0?t:Ed()}return rr()}function $y(){Dn===0&&(Dn=(Le&536870912)===0||Be?yo():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),Dn}function yn(t,i,a){(t===Je&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(xa(t,0),br(t,Le,Dn,!1)),vi(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(xs|=a),ct===4&&br(t,Le,Dn,!1)),ai(t))}function Xy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||is(t,i),h=l?cS(t,i):gd(t,i,!0),d=l;do{if(h===0){Ia&&!l&&br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!lS(a)){h=gd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=ol;var I=T.current.memoizedState.isDehydrated;if(I&&(xa(T,v).flags|=256),v=gd(T,v,!1),v!==2){if(od&&!I){T.errorRecoveryDisabledLanes|=d,xs|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xa(t,0),br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:br(l,i,Dn,!Er);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=cd+300-vn(),10<h)){if(br(l,i,Dn,!Er),Ys(l,0,!0)!==0)break e;l.timeoutHandle=w_(Zy.bind(null,l,a,an,oc,ud,i,Dn,xs,Ca,Er,d,2,-0,0),h);break e}Zy(l,a,an,oc,ud,i,Dn,xs,Ca,Er,d,0,-0,0)}}break}while(!0);ai(t)}function Zy(t,i,a,l,h,d,v,T,I,B,Y,W,q,H){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:HS},Fy(i),W=GS(),W!==null)){t.cancelPendingCommit=W(r_.bind(null,t,i,d,a,l,h,v,T,I,Y,1,q,H)),br(t,d,v,!B);return}r_(t,i,d,a,l,h,v,T,I)}function lS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function br(t,i,a,l){i&=~ld,i&=~xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Gn(t,a,i)}function lc(){return(Ge&6)===0?(ul(0),!1):!0}function md(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Mi=ws=null,xf(t),Sa=null,Jo=0,t=De;for(;t!==null;)Dy(t.alternate,t),t=t.return;De=null}}function xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),md(),Je=t,De=a=Di(t.current,null),Le=i,Qe=0,pn=null,Er=!1,Ia=is(t,i),od=!1,Ca=Dn=ld=xs=Tr=ct=0,an=ol=null,ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=t[h],l&=~d}return Bi=i,Du(),a}function Wy(t,i){Ie=null,K.H=$u,i===Fo||i===ju?(i=pg(),Qe=3):i===fg?(i=pg(),Qe=4):Qe=i===gy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,De===null&&(ct=1,ec(t,wn(i,t.current)))}function Jy(){var t=K.H;return K.H=$u,t===null?$u:t}function e_(){var t=K.A;return K.A=aS,t}function pd(){ct=4,Er||(Le&4194048)!==Le&&Nn.current!==null||(Ia=!0),(Tr&134217727)===0&&(xs&134217727)===0||Je===null||br(Je,Le,Dn,!1)}function gd(t,i,a){var l=Ge;Ge|=2;var h=Jy(),d=e_();(Je!==t||Le!==i)&&(oc=null,xa(t,i)),i=!1;var v=ct;e:do try{if(Qe!==0&&De!==null){var T=De,I=pn;switch(Qe){case 8:md(),v=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var B=Qe;if(Qe=0,pn=null,Oa(t,T,I,B),a&&Ia){v=0;break e}break;default:B=Qe,Qe=0,pn=null,Oa(t,T,I,B)}}uS(),v=ct;break}catch(Y){Wy(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Mi=ws=null,Ge=l,K.H=h,K.A=d,De===null&&(Je=null,Le=0,Du()),v}function uS(){for(;De!==null;)t_(De)}function cS(t,i){var a=Ge;Ge|=2;var l=Jy(),h=e_();Je!==t||Le!==i?(oc=null,ac=vn()+500,xa(t,i)):Ia=is(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=pn;t:switch(Qe){case 1:Qe=0,pn=null,Oa(t,i,d,1);break;case 2:case 9:if(dg(d)){Qe=0,pn=null,n_(i);break}i=function(){Qe!==2&&Qe!==9||Je!==t||(Qe=7),ai(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:dg(d)?(Qe=0,pn=null,n_(i)):(Qe=0,pn=null,Oa(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||L_(v)){Qe=0,pn=null;var I=T.sibling;if(I!==null)De=I;else{var B=T.return;B!==null?(De=B,uc(B)):De=null}break t}}Qe=0,pn=null,Oa(t,i,d,5);break;case 6:Qe=0,pn=null,Oa(t,i,d,6);break;case 8:md(),ct=6;break e;default:throw Error(s(462))}}hS();break}catch(Y){Wy(t,Y)}while(!0);return Mi=ws=null,K.H=l,K.A=h,Ge=a,De!==null?0:(Je=null,Le=0,Du(),ct)}function hS(){for(;De!==null&&!fo();)t_(De)}function t_(t){var i=Cy(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?uc(t):De=i}function n_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ay(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Ay(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:xf(i);default:Dy(a,i),i=De=ig(i,Bi),i=Cy(a,i,Bi)}t.memoizedProps=t.pendingProps,i===null?uc(t):De=i}function Oa(t,i,a,l){Mi=ws=null,xf(i),Sa=null,Jo=0;var h=i.return;try{if(eS(t,h,i,a,Le)){ct=1,ec(t,wn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ct=1,ec(t,wn(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:Ia||(Le&536870912)!==0?t=!1:(Er=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,t)):uc(i)}function uc(t){var i=t;do{if((i.flags&32768)!==0){i_(i,Er);return}t=i.return;var a=nS(i.alternate,i,Bi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ct===0&&(ct=5)}function i_(t,i){do{var a=iS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function r_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do cc();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=af,vo(t,a,d,v,T,I),t===Je&&(De=Je=null,Le=0),Na=i,Sr=t,Da=a,hd=d,fd=h,Yy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pS(Jr,function(){return u_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{rS(t,i,a)}finally{Ge=v,ae.p=h,K.T=l}}zt=1,s_(),a_(),o_()}}function s_(){if(zt===1){zt=0;var t=Sr,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{By(i,t);var d=Cd,v=Kp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qp(T.ownerDocument.documentElement,T)){if(I!==null&&ef(T)){var B=I.start,Y=I.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var W=T.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var H=q.getSelection(),Ee=T.textContent.length,ye=Math.min(I.start,Ee),Xe=I.end===void 0?ye:Math.min(I.end,Ee);!H.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var P=Gp(T,ye),D=Gp(T,Xe);if(P&&D&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var j=W.createRange();j.setStart(P.node,P.offset),H.removeAllRanges(),ye>Xe?(H.addRange(j),H.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),H.addRange(j))}}}}for(W=[],H=T;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var $=W[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Ac=!!Id,Cd=Id=null}finally{Ge=h,ae.p=l,K.T=a}}t.current=i,zt=2}}function a_(){if(zt===2){zt=0;var t=Sr,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Ly(t,i.alternate,i)}finally{Ge=h,ae.p=l,K.T=a}}zt=3}}function o_(){if(zt===4||zt===3){zt=0,su();var t=Sr,i=Na,a=Da,l=Yy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Na=Sr=null,l_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),$s(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ae.p=h}}(Da&3)!==0&&cc(),ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===dd?ll++:(ll=0,dd=t):ll=0,ul(0)}}function l_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,qo(i)))}function cc(t){return s_(),a_(),o_(),u_()}function u_(){if(zt!==5)return!1;var t=Sr,i=hd;hd=0;var a=$s(Da),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=fd,fd=null;var d=Sr,v=Da;if(zt=0,Na=Sr=null,Da=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Qy(d.current),Hy(d,d.current,v,a),Ge=T,ul(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ae.p=h,K.T=l,l_(t,i)}}function c_(t,i,a){i=wn(a,i),i=Gf(t.stateNode,i,2),t=dr(t,i,2),t!==null&&(vi(t,2),ai(t))}function Ze(t,i,a){if(t.tag===3)c_(t,t,a);else for(;i!==null;){if(i.tag===3){c_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=wn(a,t),a=my(2),l=dr(i,a,2),l!==null&&(py(a,l,i,t),vi(l,2),ai(l));break}}i=i.return}}function yd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(od=!0,h.add(a),t=fS.bind(null,t,i,a),i.then(t,t))}function fS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>vn()-cd?(Ge&2)===0&&xa(t,0):ld|=a,Ca===Le&&(Ca=0)),ai(t)}function h_(t,i){i===0&&(i=_o()),t=da(t,i),t!==null&&(vi(t,i),ai(t))}function dS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),h_(t,a)}function mS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),h_(t,a)}function pS(t,i){return Zr(t,i)}var hc=null,Ma=null,_d=!1,fc=!1,vd=!1,Os=0;function ai(t){t!==Ma&&t.next===null&&(Ma===null?hc=Ma=t:Ma=Ma.next=t),fc=!0,_d||(_d=!0,yS())}function ul(t,i){if(!vd&&fc){vd=!0;do for(var a=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,p_(l,d))}else d=Le,d=Ys(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||is(l,d)||(a=!0,p_(l,d));l=l.next}while(a);vd=!1}}function gS(){f_()}function f_(){fc=_d=!1;var t=0;Os!==0&&(wS()&&(t=Os),Os=0);for(var i=vn(),a=null,l=hc;l!==null;){var h=l.next,d=d_(l,i);d===0?(l.next=null,a===null?hc=h:a.next=h,h===null&&(Ma=a)):(a=l,(t!==0||(d&3)!==0)&&(fc=!0)),l=h}ul(t)}function d_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Qt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=go(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Le,a=Ys(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Wr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Wr(l),$s(a)){case 2:case 8:a=Qs;break;case 32:a=Jr;break;case 268435456:a=Ks;break;default:a=Jr}return l=m_.bind(null,t),a=Zr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Wr(l),t.callbackPriority=2,t.callbackNode=null,2}function m_(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cc()&&t.callbackNode!==a)return null;var l=Le;return l=Ys(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xy(t,l,i),d_(t,vn()),t.callbackNode!=null&&t.callbackNode===a?m_.bind(null,t):null)}function p_(t,i){if(cc())return null;Xy(t,i,!0)}function yS(){IS(function(){(Ge&6)!==0?Zr(mo,gS):f_()})}function Ed(){return Os===0&&(Os=yo()),Os}function g_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ta(""+t)}function y_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _S(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=g_((h[pt]||null).action),v=l.submitter;v&&(i=(i=v[pt]||null)?g_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new na("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var I=v?y_(h,v):new FormData(h);zf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?y_(h,v):new FormData(h),zf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Td=0;Td<sf.length;Td++){var Ad=sf[Td],vS=Ad.toLowerCase(),ES=Ad[0].toUpperCase()+Ad.slice(1);kn(vS,"on"+ES)}kn(Xp,"onAnimationEnd"),kn(Zp,"onAnimationIteration"),kn(Wp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(LA,"onTransitionRun"),kn(UA,"onTransitionStart"),kn(jA,"onTransitionCancel"),kn(Jp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function __(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Ju(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Ju(Y)}h.currentTarget=null,d=I}}}}function xe(t,i){var a=i[To];a===void 0&&(a=i[To]=new Set);var l=t+"__bubble";a.has(l)||(v_(i,t,2,!1),a.add(l))}function Sd(t,i,a){var l=0;i&&(l|=4),v_(a,t,l,i)}var dc="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[dc]){t[dc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(TS.has(a)||Sd(a,!1,t),Sd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[dc]||(i[dc]=!0,Sd("selectionchange",!1,i))}}function v_(t,i,a,l){switch(H_(i)){case 2:var h=YS;break;case 8:h=$S;break;default:h=Ud}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function wd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}pu(function(){var B=d,Y=An(a),W=[];e:{var q=eg.get(t);if(q!==void 0){var H=na,Ee=t;switch(t){case"keypress":if(Zn(a)===0)break e;case"keydown":case"keyup":H=la;break;case"focusin":Ee="focus",H=sa;break;case"focusout":Ee="blur",H=sa;break;case"beforeblur":case"afterblur":H=sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Su;break;case Xp:case Zp:case Wp:H=aa;break;case Jp:H=wu;break;case"scroll":case"scrollend":H=gu;break;case"wheel":H=ua;break;case"copy":case"cut":case"paste":H=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vo;break;case"toggle":case"beforetoggle":H=Iu}var ye=(i&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),P=ye?q!==null?q+"Capture":null:q;ye=[];for(var D=B,j;D!==null;){var $=D;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||P===null||($=hs(D,P),$!=null&&ye.push(hl(D,$,j))),Xe)break;D=D.return}0<ye.length&&(q=new H(q,Ee,null,a,Y),W.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==bi&&(Ee=a.relatedTarget||a.fromElement)&&(Ei(Ee)||Ee[En]))break e;if((H||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Ee=a.relatedTarget||a.toElement,H=B,Ee=Ee?Ei(Ee):null,Ee!==null&&(Xe=u(Ee),ye=Ee.tag,Ee!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(H=null,Ee=B),H!==Ee)){if(ye=bn,$="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Vo,$="onPointerLeave",P="onPointerEnter",D="pointer"),Xe=H==null?q:Kn(H),j=Ee==null?q:Kn(Ee),q=new ye($,D+"leave",H,a,Y),q.target=Xe,q.relatedTarget=j,$=null,Ei(Y)===B&&(ye=new ye(P,D+"enter",Ee,a,Y),ye.target=j,ye.relatedTarget=Xe,$=ye),Xe=$,H&&Ee)t:{for(ye=H,P=Ee,D=0,j=ye;j;j=Va(j))D++;for(j=0,$=P;$;$=Va($))j++;for(;0<D-j;)ye=Va(ye),D--;for(;0<j-D;)P=Va(P),j--;for(;D--;){if(ye===P||P!==null&&ye===P.alternate)break t;ye=Va(ye),P=Va(P)}ye=null}else ye=null;H!==null&&E_(W,q,H,ye,!1),Ee!==null&&Xe!==null&&E_(W,Xe,Ee,ye,!0)}}e:{if(q=B?Kn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ce=jp;else if(wt(q))if(zp)ce=VA;else{ce=OA;var Ne=xA}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Io(B.elementType)&&(ce=jp):ce=MA;if(ce&&(ce=ce(t,B))){Ni(W,ce,a,Y);break e}Ne&&Ne(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&lr(q,"number",q.value)}switch(Ne=B?Kn(B):window,t){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(ca=Ne,tf=B,Lo=null);break;case"focusout":Lo=tf=ca=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Yp(W,a,Y);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":Yp(W,a,Y)}var fe;if(ei)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?Q(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(fe=No()):(Xn=Y,ur="value"in Xn?Xn.value:Xn.textContent,Pe=!0)),Ne=mc(B,_e),0<Ne.length&&(_e=new Oo(_e,t,null,a,Y),W.push({event:_e,listeners:Ne}),fe?_e.data=fe:(fe=se(a),fe!==null&&(_e.data=fe)))),(fe=p?bt(t,a):ke(t,a))&&(_e=mc(B,"onBeforeInput"),0<_e.length&&(Ne=new Oo("onBeforeInput","beforeinput",null,a,Y),W.push({event:Ne,listeners:_e}),Ne.data=fe)),_S(W,t,B,a,Y)}__(W,i)})}function hl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=hs(t,a),h!=null&&l.unshift(hl(t,h,d)),h=hs(t,i),h!=null&&l.push(hl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=hs(a,d),B!=null&&v.unshift(hl(a,B,I))):h||(B=hs(a,d),B!=null&&v.push(hl(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var AS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function T_(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(SS,"")}function A_(t,i){return i=T_(i),T_(t)===i}function pc(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":Ro(t,l,d);break;case"data":if(i!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=pc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),or(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yh.get(a)||a,or(t,a,l))}}function Rd(t,i,a,l,h,d){switch(a){case"style":Ro(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):or(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:$e(t,i,l,Y,a,null)}}ls(t,d,T,I,B,v,h,!1),ea(t);return;case"select":xe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Si(t,!!l,i,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}us(t,l,h,d),ea(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<cl.length;l++)xe(cl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,B,l,a,null)}return;default:if(Io(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Rd(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,i,T,l,a,null))}function bS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Y=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(H)||$e(t,i,H,null,l,W)}}for(var q in l){var H=l[q];if(W=a[q],l.hasOwnProperty(q)&&(H!=null||W!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":Y=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==W&&$e(t,i,q,H,l,W)}}cn(t,v,T,I,B,Y,d,h);return;case"select":H=v=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,h,d,l,I)}i=T,a=v,l=H,q!=null?Si(t,!!a,q,!1):!!l!=!!a&&(i!=null?Si(t,!!a,i,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Ke(t,q,H);return;case"option":for(var Ee in a)if(q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:$e(t,i,Ee,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$e(t,i,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&$e(t,i,ye,null,l,q);for(B in l)if(q=l[B],H=a[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:$e(t,i,B,q,l,H)}return;default:if(Io(i)){for(var Xe in a)q=a[Xe],a.hasOwnProperty(Xe)&&q!==void 0&&!l.hasOwnProperty(Xe)&&Rd(t,i,Xe,void 0,l,q);for(Y in l)q=l[Y],H=a[Y],!l.hasOwnProperty(Y)||q===H||q===void 0&&H===void 0||Rd(t,i,Y,q,l,H);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&$e(t,i,P,null,l,q);for(W in l)q=l[W],H=a[W],!l.hasOwnProperty(W)||q===H||q==null&&H==null||$e(t,i,W,q,l,H)}var Id=null,Cd=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function S_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dd=null;function wS(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,RS=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(CS)}:w_;function CS(t){setTimeout(function(){throw t})}function wr(t){return t==="head"}function I_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&fl(v.documentElement),a&2&&fl(v.body),a&4)for(a=v.head,fl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[rs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),El(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);El(i)}function xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function DS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function xS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Md=null;function C_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function N_(t,i,a){switch(i=gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function fl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ar(t)}var xn=new Map,D_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=ae.d;ae.d={f:OS,r:MS,D:VS,C:PS,L:kS,m:LS,X:jS,S:US,M:zS};function OS(){var t=qi.f(),i=lc();return t||i}function MS(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?Xg(i):qi.r(t)}var Pa=typeof document>"u"?null:document;function x_(t,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function VS(t){qi.D(t),x_("dns-prefetch",t,null)}function PS(t,i){qi.C(t,i),x_("preconnect",t,i)}function kS(t,i,a){qi.L(t,i,a);var l=Pa;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=ka(t);break;case"script":d=La(t)}xn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(dl(d))||i==="script"&&l.querySelector(ml(d))||(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function LS(t,i){qi.m(t,i);var a=Pa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=La(t)}if(!xn.has(d)&&(t=E({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(d)))return}l=a.createElement("link"),Bt(l,"link",t),ht(l),a.head.appendChild(l)}}}function US(t,i,a){qi.S(t,i,a);var l=Pa;if(l&&t){var h=Jt(l).hoistableStyles,d=ka(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(dl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&Vd(t,a);var I=v=l.createElement("link");ht(I),Bt(I,"link",t),I._p=new Promise(function(B,Y){I.onload=B,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function jS(t,i){qi.X(t,i);var a=Pa;if(a&&t){var l=Jt(a).hoistableScripts,h=La(t),d=l.get(h);d||(d=a.querySelector(ml(h)),d||(t=E({src:t,async:!0},i),(i=xn.get(h))&&Pd(t,i),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zS(t,i){qi.M(t,i);var a=Pa;if(a&&t){var l=Jt(a).hoistableScripts,h=La(t),d=l.get(h);d||(d=a.querySelector(ml(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&Pd(t,i),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function O_(t,i,a,l){var h=(h=Ae.current)?yc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=Jt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var d=Jt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||BS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=Jt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ka(t){return'href="'+gt(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function M_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function BS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),ht(i),t.head.appendChild(i))}function La(t){return'[src="'+gt(t)+'"]'}function ml(t){return"script[async]"+t}function V_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),Bt(l,"style",h),_c(l,a.precedence,t),i.instance=l;case"stylesheet":h=ka(a.href);var d=t.querySelector(dl(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=M_(a),(h=xn.get(h))&&Vd(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",l),i.state.loading|=4,_c(d,a.precedence,t),i.instance=d;case"script":return d=La(a.src),(h=t.querySelector(ml(d)))?(i.instance=h,ht(h),h):(l=a,(h=xn.get(d))&&(l=E({},a),Pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,_c(l,a.precedence,t));return i.instance}function _c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var vc=null;function P_(t,i,a){if(vc===null){var l=new Map,h=vc=new Map;h.set(a,l)}else h=vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[rs]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function k_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var pl=null;function HS(){}function FS(t,i,a){if(pl===null)throw Error(s(475));var l=pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),d=t.querySelector(dl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ec.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=M_(a),(h=xn.get(h))&&Vd(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ec.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function GS(){if(pl===null)throw Error(s(475));var t=pl;return t.stylesheets&&t.count===0&&kd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ec(){if(this.count--,this.count===0){if(this.stylesheets)kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function kd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,i.forEach(QS,t),Tc=null,Ec.call(t))}function QS(t,i){if(!(i.state.loading&4)){var a=Tc.get(t);if(a)var l=a.get(null);else{a=new Map,Tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var gl={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function KS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function U_(t,i,a,l,h,d,v,T,I,B,Y,W){return t=new KS(t,i,a,v,T,I,B,W),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=yf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Tf(d),t}function j_(t){return t?(t=ma,t):ma}function z_(t,i,a,l,h,d){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=fr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=dr(t,l,i),a!==null&&(yn(a,t,i),Qo(a,t,i))}function B_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){B_(t,i),(t=t.alternate)&&B_(t,i)}function q_(t){if(t.tag===13){var i=da(t,67108864);i!==null&&yn(i,t,67108864),Ld(t,67108864)}}var Ac=!0;function YS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,Ud(t,i,a,l)}finally{ae.p=d,K.T=h}}function $S(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,Ud(t,i,a,l)}finally{ae.p=d,K.T=h}}function Ud(t,i,a,l){if(Ac){var h=jd(l);if(h===null)wd(t,i,l,Sc,a),F_(t,l);else if(ZS(h,t,i,a,l))l.stopPropagation();else if(F_(t,l),i&4&&-1<XS.indexOf(t)){for(;h!==null;){var d=Qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Qt(v);T.entanglements[1]|=I,v&=~I}ai(d),(Ge&6)===0&&(ac=vn()+500,ul(0))}}break;case 13:T=da(d,2),T!==null&&yn(T,d,2),lc(),Ld(d,2)}if(d=jd(l),d===null&&wd(t,i,l,Sc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wd(t,i,l,null,a)}}function jd(t){return t=An(t),zd(t)}var Sc=null;function zd(t){if(Sc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Sc=t,null}function H_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qh()){case mo:return 2;case Qs:return 8;case Jr:case Hh:return 32;case Ks:return 268435456;default:return 32}default:return 32}}var Bd=!1,Rr=null,Ir=null,Cr=null,yl=new Map,_l=new Map,Nr=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(t,i){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Qn(i),i!==null&&q_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ZS(t,i,a,l,h){switch(i){case"focusin":return Rr=vl(Rr,t,i,a,l,h),!0;case"dragenter":return Ir=vl(Ir,t,i,a,l,h),!0;case"mouseover":return Cr=vl(Cr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return yl.set(d,vl(yl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,vl(_l.get(d)||null,t,i,a,l,h)),!0}return!1}function G_(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,lu(t.priority,function(){if(a.tag===13){var l=gn();l=ir(l);var h=da(a,l);h!==null&&yn(h,a,l),Ld(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);bi=l,a.target.dispatchEvent(l),bi=null}else return i=Qn(a),i!==null&&q_(i),t.blockedOn=a,!1;i.shift()}return!0}function Q_(t,i,a){bc(t)&&a.delete(i)}function WS(){Bd=!1,Rr!==null&&bc(Rr)&&(Rr=null),Ir!==null&&bc(Ir)&&(Ir=null),Cr!==null&&bc(Cr)&&(Cr=null),yl.forEach(Q_),_l.forEach(Q_)}function wc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WS)))}var Rc=null;function K_(t){Rc!==t&&(Rc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(zd(l||a)===null)continue;break}var d=Qn(a);d!==null&&(t.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function El(t){function i(I){return wc(I,t)}Rr!==null&&wc(Rr,t),Ir!==null&&wc(Ir,t),Cr!==null&&wc(Cr,t),yl.forEach(i),_l.forEach(i);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&Nr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pt]||null;if(typeof d=="function")v||K_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pt]||null)T=v.formAction;else if(zd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),K_(a)}}}function qd(t){this._internalRoot=t}Ic.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();z_(a,l,t,i,null,null)},Ic.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;z_(t.current,2,null,t,null,null),lc(),i[En]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var i=rr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,t),a===0&&G_(t)}};var Y_=e.version;if(Y_!=="19.1.1")throw Error(s(527,Y_,"19.1.1"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var JS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{lt=Cc.inject(JS),Fe=Cc}catch{}}return Al.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=cy,d=hy,v=fy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=U_(t,1,!1,null,null,a,l,h,d,v,T,null),t[En]=i.current,bd(t),new qd(i)},Al.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=cy,v=hy,T=fy,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=U_(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=j_(null),a=i.current,l=gn(),l=ir(l),h=fr(l),h.callback=null,dr(a,h,l),a=l,i.current.lanes=a,vi(i,a),ai(i),t[En]=i.current,bd(t),new Ic(i)},Al.version="19.1.1",Al}var rv;function cb(){if(rv)return Gd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=ub(),Gd.exports}var hb=cb();const fb=LE(hb);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sv="popstate";function db(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return cm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Vl(o)}return pb(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function di(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mb(){return Math.random().toString(36).substring(2,10)}function av(r,e){return{usr:r.state,key:r.key,idx:e}}function cm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||s||mb()}}function Vl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function to(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function pb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=E(),ne=F==null?null:F-y;y=F,g&&g({action:m,location:X.location,delta:ne})}function b(F,ne){m="PUSH";let ee=cm(X.location,F,ne);y=E()+1;let re=av(ee,y),be=X.createHref(ee);try{f.pushState(re,"",be)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(be)}u&&g&&g({action:m,location:X.location,delta:1})}function V(F,ne){m="REPLACE";let ee=cm(X.location,F,ne);y=E();let re=av(ee,y),be=X.createHref(ee);f.replaceState(re,"",be),u&&g&&g({action:m,location:X.location,delta:0})}function L(F){return gb(F)}let X={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(sv,S),g=F,()=>{o.removeEventListener(sv,S),g=null}},createHref(F){return e(o,F)},createURL:L,encodeLocation(F){let ne=L(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:b,replace:V,go(F){return f.go(F)}};return X}function gb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Vl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UE(r,e,n="/"){return yb(r,e,n,!1)}function yb(r,e,n,s){let o=typeof e=="string"?to(e):e,u=Yi(o.pathname||"/",n);if(u==null)return null;let f=jE(r);_b(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=Nb(u);m=Ib(f[g],y,s)}return m}function jE(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;st(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Qi([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(st(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),jE(f.children,e,b,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:wb(S,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of zE(f.path))u(f,m,!0,g)}),e}function zE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=zE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function _b(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Rb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vb=/^:[\w-]+$/,Eb=3,Tb=2,Ab=1,Sb=10,bb=-2,ov=r=>r==="*";function wb(r,e){let n=r.split("/"),s=n.length;return n.some(ov)&&(s+=bb),e&&(s+=Tb),n.filter(o=>!ov(o)).reduce((o,u)=>o+(vb.test(u)?Eb:u===""?Ab:Sb),s)}function Rb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Ib(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Xc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),b=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Xc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Qi([u,S.pathname]),pathnameBase:Mb(Qi([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Qi([u,S.pathnameBase]))}return f}function Xc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Cb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},b)=>{if(E==="*"){let L=m[b]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const V=m[b];return S&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Cb(r,e=!1,n=!0){di(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Nb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Yi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Db(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?to(r):r;return{pathname:n?n.startsWith("/")?n:xb(n,e):e,search:Vb(s),hash:Pb(o)}}function xb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $d(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ob(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BE(r){let e=Ob(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qE(r,e,n,s=!1){let o;typeof r=="string"?o=to(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let g=Db(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),Mb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Vb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Pb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var Lb=["GET",...HE];new Set(Lb);var no=G.createContext(null);no.displayName="DataRouter";var _h=G.createContext(null);_h.displayName="DataRouterState";G.createContext(!1);var FE=G.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var Ub=G.createContext(new Map);Ub.displayName="Fetchers";var jb=G.createContext(null);jb.displayName="Await";var gi=G.createContext(null);gi.displayName="Navigation";var Fl=G.createContext(null);Fl.displayName="Location";var er=G.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var jm=G.createContext(null);jm.displayName="RouteError";function zb(r,{relative:e}={}){st(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(gi),{hash:o,pathname:u,search:f}=Ql(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Gl(){return G.useContext(Fl)!=null}function Hs(){return st(Gl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Fl).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(r){G.useContext(gi).static||G.useLayoutEffect(r)}function Bb(){let{isDataRoute:r}=G.useContext(er);return r?ew():qb()}function qb(){st(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(no),{basename:e,navigator:n}=G.useContext(gi),{matches:s}=G.useContext(er),{pathname:o}=Hs(),u=JSON.stringify(BE(s)),f=G.useRef(!1);return QE(()=>{f.current=!0}),G.useCallback((g,y={})=>{if(di(f.current,GE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=qE(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}G.createContext(null);function Ql(r,{relative:e}={}){let{matches:n}=G.useContext(er),{pathname:s}=Hs(),o=JSON.stringify(BE(n));return G.useMemo(()=>qE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Hb(r,e){return KE(r,e)}function KE(r,e,n,s,o){st(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(gi),{matches:f}=G.useContext(er),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ee=S&&S.path||"";YE(y,!S||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let b=Hs(),V;if(e){let ee=typeof e=="string"?to(e):e;st(E==="/"||ee.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),V=ee}else V=b;let L=V.pathname||"/",X=L;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");X="/"+L.replace(/^\//,"").split("/").slice(ee.length).join("/")}let F=UE(r,{pathname:X});di(S||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),di(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Yb(F&&F.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:Qi([E,u.encodeLocation?u.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Qi([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s,o);return e&&ne?G.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ne):ne}function Fb(){let r=Jb(),e=kb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var Gb=G.createElement(Fb,null),Qb=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(er.Provider,{value:this.props.routeContext},G.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kb({routeContext:r,match:e,children:n}){let s=G.useContext(no);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(er.Provider,{value:r},n)}function Yb(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);st(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:S,errors:b}=n,V=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||V){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,E,S)=>{let b,V=!1,L=null,X=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,L=E.route.errorElement||Gb,m&&(g<0&&S===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,X=null):g===S&&(V=!0,X=E.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,S+1)),ne=()=>{let ee;return b?ee=L:V?ee=X:E.route.Component?ee=G.createElement(E.route.Component,null):E.route.element?ee=E.route.element:ee=y,G.createElement(Kb,{match:E,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:ee})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?G.createElement(Qb,{location:n.location,revalidation:n.revalidation,component:L,error:b,children:ne(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):ne()},null)}function zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $b(r){let e=G.useContext(no);return st(e,zm(r)),e}function Xb(r){let e=G.useContext(_h);return st(e,zm(r)),e}function Zb(r){let e=G.useContext(er);return st(e,zm(r)),e}function Bm(r){let e=Zb(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Wb(){return Bm("useRouteId")}function Jb(){let r=G.useContext(jm),e=Xb("useRouteError"),n=Bm("useRouteError");return r!==void 0?r:e.errors?.[n]}function ew(){let{router:r}=$b("useNavigate"),e=Bm("useNavigate"),n=G.useRef(!1);return QE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{di(n.current,GE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var lv={};function YE(r,e,n){!e&&!lv[r]&&(lv[r]=!0,di(!1,n))}G.memo(tw);function tw({routes:r,future:e,state:n,unstable_onError:s}){return KE(r,void 0,n,s,e)}function kc(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=to(n));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:b="default"}=n,V=G.useMemo(()=>{let L=Yi(g,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:S,key:b},navigationType:s}},[f,g,y,E,S,b,s]);return di(V!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:G.createElement(gi.Provider,{value:m},G.createElement(Fl.Provider,{children:e,value:V}))}function iw({children:r,location:e}){return Hb(hm(r),e)}function hm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,hm(s.props.children,u));return}st(s.type===kc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=hm(s.props.children,u)),n.push(f)}),n}var Lc="get",Uc="application/x-www-form-urlencoded";function vh(r){return r!=null&&typeof r.tagName=="string"}function rw(r){return vh(r)&&r.tagName.toLowerCase()==="button"}function sw(r){return vh(r)&&r.tagName.toLowerCase()==="form"}function aw(r){return vh(r)&&r.tagName.toLowerCase()==="input"}function ow(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lw(r,e){return r.button===0&&(!e||e==="_self")&&!ow(r)}var Nc=null;function uw(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(r){return r!=null&&!cw.has(r)?(di(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):r}function hw(r,e){let n,s,o,u,f;if(sw(r)){let m=r.getAttribute("action");s=m?Yi(m,e):null,n=r.getAttribute("method")||Lc,o=Xd(r.getAttribute("enctype"))||Uc,u=new FormData(r)}else if(rw(r)||aw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Yi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Lc,o=Xd(r.getAttribute("formenctype"))||Xd(m.getAttribute("enctype"))||Uc,u=new FormData(m,r),!uw()){let{name:y,type:E,value:S}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,S)}}else{if(vh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lc,s=null,o=Uc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Yi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function dw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await dw(u,n);return f.links?f.links():[]}return[]}));return vw(s.flat(1).filter(mw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function gw(r,e,{includeHydrateFallback:n}={}){return yw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yw(r){return[...new Set(r)]}function _w(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function vw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(_w(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $E(){let r=G.useContext(no);return qm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ew(){let r=G.useContext(_h);return qm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hm=G.createContext(void 0);Hm.displayName="FrameworkContext";function XE(){let r=G.useContext(Hm);return qm(r,"You must render this element inside a <HydratedRouter> element"),r}function Tw(r,e){let n=G.useContext(Hm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,b=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=ne=>{ne.forEach(ee=>{f(ee.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),G.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let V=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Sl(m,V),onBlur:Sl(g,L),onMouseEnter:Sl(y,V),onMouseLeave:Sl(E,L),onTouchStart:Sl(S,V)}]:[!1,b,{}]}function Sl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Aw({page:r,...e}){let{router:n}=$E(),s=G.useMemo(()=>UE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(bw,{page:r,matches:s,...e}):null}function Sw(r){let{manifest:e,routeModules:n}=XE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return pw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function bw({page:r,matches:e,...n}){let s=Hs(),{manifest:o,routeModules:u}=XE(),{basename:f}=$E(),{loaderData:m,matches:g}=Ew(),y=G.useMemo(()=>uv(r,e,g,o,s,"data"),[r,e,g,o,s]),E=G.useMemo(()=>uv(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,X=!1;if(e.forEach(ne=>{let ee=o.routes[ne.route.id];!ee||!ee.hasLoader||(!y.some(re=>re.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ee.hasClientLoader?X=!0:L.add(ne.route.id))}),L.size===0)return[];let F=fw(r,f,"data");return X&&L.size>0&&F.searchParams.set("_routes",e.filter(ne=>L.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,e,r,u]),b=G.useMemo(()=>gw(E,o),[E,o]),V=Sw(E);return G.createElement(G.Fragment,null,S.map(L=>G.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),b.map(L=>G.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),V.map(({key:L,link:X})=>G.createElement("link",{key:L,nonce:n.nonce,...X})))}function ww(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.8.2")}catch{}function Rw({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=db({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(g=>{G.startTransition(()=>f(g))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(nw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JE=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...b},V){let{basename:L}=G.useContext(gi),X=typeof y=="string"&&WE.test(y),F,ne=!1;if(typeof y=="string"&&X&&(F=y,ZE))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Yi(x.pathname,L);x.origin===R.origin&&M!=null?y=M+x.search+x.hash:ne=!0}catch{di(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=zb(y,{relative:o}),[re,be,he]=Tw(s,b),pe=Nw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function O(R){e&&e(R),R.defaultPrevented||pe(R)}let w=G.createElement("a",{...b,...he,href:F||ee,onClick:ne||u?e:O,ref:ww(V,be),target:g,"data-discover":!X&&n==="render"?"true":void 0});return re&&!X?G.createElement(G.Fragment,null,w,G.createElement(Aw,{page:ee})):w});JE.displayName="Link";var jc=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Ql(f,{relative:y.relative}),b=Hs(),V=G.useContext(_h),{navigator:L,basename:X}=G.useContext(gi),F=V!=null&&Vw(S)&&m===!0,ne=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,ee=b.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&X&&(re=Yi(re,X)||re);const be=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let he=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(be)==="/",pe=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),O={isActive:he,isPending:pe,isTransitioning:F},w=he?e:void 0,R;typeof s=="function"?R=s(O):R=[s,he?"active":null,pe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return G.createElement(JE,{...y,"aria-current":w,className:R,ref:E,style:x,to:f,viewTransition:m},typeof g=="function"?g(O):g)});jc.displayName="NavLink";var Iw=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Lc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...b},V)=>{let L=Ow(),X=Mw(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&WE.test(m),ee=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let be=re.nativeEvent.submitter,he=be?.getAttribute("formmethod")||f;L(be||re.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:V,method:F,action:X,onSubmit:s?g:ee,...b,"data-discover":!ne&&r==="render"?"true":void 0})});Iw.displayName="Form";function Cw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eT(r){let e=G.useContext(no);return st(e,Cw(r)),e}function Nw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Bb(),g=Hs(),y=Ql(r,{relative:u});return G.useCallback(E=>{if(lw(E,e)){E.preventDefault();let S=n!==void 0?n:Vl(g)===Vl(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var Dw=0,xw=()=>`__${String(++Dw)}__`;function Ow(){let{router:r}=eT("useSubmit"),{basename:e}=G.useContext(gi),n=Wb();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=hw(s,e);if(o.navigate===!1){let E=o.fetcherKey||xw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Mw(r,{relative:e}={}){let{basename:n}=G.useContext(gi),s=G.useContext(er);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ql(r||".",{relative:e})},f=Hs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),Vl(u)}function Vw(r,{relative:e}={}){let n=G.useContext(FE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eT("useViewTransitionState"),o=Ql(r,{relative:e});if(!n.isTransitioning)return!1;let u=Yi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xc(o.pathname,f)!=null||Xc(o.pathname,u)!=null}const tT=()=>z.jsx("div",{className:"loading-overlay",children:z.jsx("div",{className:"spinner"})}),Pw=({message:r,onOk:e})=>z.jsx("div",{className:"custom-alert-overlay",children:z.jsxs("div",{className:"custom-alert-box",children:[z.jsx("p",{className:"text-lg text-gray-700",children:r}),z.jsx("button",{onClick:e,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg mt-4",children:"موافق"})]})}),nT=G.createContext(),Eh=()=>G.useContext(nT),kw=({children:r})=>{const[e,n]=G.useState(!1),[s,o]=G.useState({show:!1,message:""}),u=G.useCallback(()=>n(!0),[]),f=G.useCallback(()=>n(!1),[]),m=G.useCallback(E=>o({show:!0,message:E}),[]),g=G.useCallback(()=>o({show:!1,message:""}),[]),y={showLoading:u,hideLoading:f,showAlert:m,hideAlert:g};return z.jsxs(nT.Provider,{value:y,children:[r,e&&z.jsx(tT,{}),s.show&&z.jsx(Pw,{message:s.message,onOk:g})]})},Lw=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Uw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,V=y&63;g||(V=64,f||(b=64)),s.push(n[E],n[S],n[b],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Uw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new jw;const b=u<<2|m>>4;if(s.push(b),y!==64){const V=m<<4&240|y>>2;if(s.push(V),S!==64){const L=y<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(r){const e=iT(r);return rT.encodeByteArray(e,!0)},Zc=function(r){return zw(r).replace(/\./g,"")},sT=function(r){try{return rT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>Bw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof cv>"u")return;const r=cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sT(r[1]);return e&&JSON.parse(e)},Th=()=>{try{return Lw()||qw()||Hw()||Fw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>Th()?.emulatorHosts?.[r],Gw=r=>{const e=aT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},oT=()=>Th()?.config,lT=r=>Th()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zc(JSON.stringify(n)),Zc(JSON.stringify(f)),""].join(".")}const Cl={};function Yw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?r.emulator.push(e):r.prod.push(e);return r}function $w(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let hv=!1;function cT(r,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Cl[r]===e||Cl[r]||hv)return;Cl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=Yw().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,V){b.setAttribute("width","24"),b.setAttribute("id",V),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{hv=!0,f()},b}function E(b,V){b.setAttribute("id",V),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=$w(s),V=n("text"),L=document.getElementById(V)||document.createElement("span"),X=n("learnmore"),F=document.getElementById(X)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),E(F,X);const be=y();g(ee,ne),re.append(ee,L,F,be),document.body.appendChild(re)}u?(L.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Zw(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function e1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t1(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function n1(){return!Zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i1(){try{return typeof indexedDB=="object"}catch{return!1}}function r1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="FirebaseError";class tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=s1,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?a1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new tr(o,m,s)}}function a1(r,e){return r.replace(o1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const o1=/\{\$([^}]+)}/g;function l1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Us(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(fv(u)&&fv(f)){if(!Us(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function fv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function u1(r,e){const n=new c1(r,e);return n.subscribe.bind(n)}class c1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");h1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Zd),o.error===void 0&&(o.error=Zd),o.complete===void 0&&(o.complete=Zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Qw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m1(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:d1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d1(r){return r===Ms?void 0:r}function m1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const g1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},y1=Oe.INFO,_1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},v1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=_1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=y1,this._logHandler=v1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const E1=(r,e)=>e.some(n=>r instanceof n);let dv,mv;function T1(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A1(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,fm=new WeakMap,fT=new WeakMap,Wd=new WeakMap,Gm=new WeakMap;function S1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(kr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&hT.set(n,r)}).catch(()=>{}),Gm.set(e,r),e}function b1(r){if(fm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});fm.set(r,e)}let dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function w1(r){dm=r(dm)}function R1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jd(this),e,...n);return fT.set(s,e.sort?e.sort():[e]),kr(s)}:A1().includes(r)?function(...e){return r.apply(Jd(this),e),kr(hT.get(this))}:function(...e){return kr(r.apply(Jd(this),e))}}function I1(r){return typeof r=="function"?R1(r):(r instanceof IDBTransaction&&b1(r),E1(r,T1())?new Proxy(r,dm):r)}function kr(r){if(r instanceof IDBRequest)return S1(r);if(Wd.has(r))return Wd.get(r);const e=I1(r);return e!==r&&(Wd.set(r,e),Gm.set(e,r)),e}const Jd=r=>Gm.get(r);function C1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=kr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(kr(f.result),g.oldVersion,g.newVersion,kr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const N1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],em=new Map;function pv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=D1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||N1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return em.set(e,u),u}w1(r=>({...r,get:(e,n,s)=>pv(e,n)||r.get(e,n,s),has:(e,n)=>!!pv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function O1(r){return r.getComponent()?.type==="VERSION"}const mm="@firebase/app",gv="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Fm("@firebase/app"),M1="@firebase/app-compat",V1="@firebase/analytics-compat",P1="@firebase/analytics",k1="@firebase/app-check-compat",L1="@firebase/app-check",U1="@firebase/auth",j1="@firebase/auth-compat",z1="@firebase/database",B1="@firebase/data-connect",q1="@firebase/database-compat",H1="@firebase/functions",F1="@firebase/functions-compat",G1="@firebase/installations",Q1="@firebase/installations-compat",K1="@firebase/messaging",Y1="@firebase/messaging-compat",$1="@firebase/performance",X1="@firebase/performance-compat",Z1="@firebase/remote-config",W1="@firebase/remote-config-compat",J1="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",rR="firebase",sR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",aR={[mm]:"fire-core",[M1]:"fire-core-compat",[P1]:"fire-analytics",[V1]:"fire-analytics-compat",[L1]:"fire-app-check",[k1]:"fire-app-check-compat",[U1]:"fire-auth",[j1]:"fire-auth-compat",[z1]:"fire-rtdb",[B1]:"fire-data-connect",[q1]:"fire-rtdb-compat",[H1]:"fire-fn",[F1]:"fire-fn-compat",[G1]:"fire-iid",[Q1]:"fire-iid-compat",[K1]:"fire-fcm",[Y1]:"fire-fcm-compat",[$1]:"fire-perf",[X1]:"fire-perf-compat",[Z1]:"fire-rc",[W1]:"fire-rc-compat",[J1]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,oR=new Map,gm=new Map;function yv(r,e){try{r.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ka(r){const e=r.name;if(gm.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,r);for(const n of Wc.values())yv(n,r);for(const n of oR.values())yv(n,r);return!0}function Qm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Kl("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=sR;function dT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:pm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Lr.create("bad-app-name",{appName:String(o)});if(n||(n=oT()),!n)throw Lr.create("no-options");const u=Wc.get(o);if(u){if(Us(n,u.options)&&Us(s,u.config))return u;throw Lr.create("duplicate-app",{appName:o})}const f=new p1(o);for(const g of gm.values())f.addComponent(g);const m=new uR(n,s,f);return Wc.set(o,m),m}function mT(r=pm){const e=Wc.get(r);if(!e&&r===pm&&oT())return dT();if(!e)throw Lr.create("no-app",{appName:r});return e}function Ur(r,e,n){let s=aR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(f.join(" "));return}Ka(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebase-heartbeat-database",hR=1,Pl="firebase-heartbeat-store";let tm=null;function pT(){return tm||(tm=C1(cR,hR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Lr.create("idb-open",{originalErrorMessage:r.message})})),tm}async function fR(r){try{const n=(await pT()).transaction(Pl),s=await n.objectStore(Pl).get(gT(r));return await n.done,s}catch(e){if(e instanceof tr)$i.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e?.message});$i.warn(n.message)}}}async function _v(r,e){try{const s=(await pT()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,gT(r)),await s.done}catch(n){if(n instanceof tr)$i.warn(n.message);else{const s=Lr.create("idb-set",{originalErrorMessage:n?.message});$i.warn(s.message)}}}function gT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1024,mR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mR){const o=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vv(),{heartbeatsToSend:n,unsentEntries:s}=gR(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $i.warn(e),""}}}function vv(){return new Date().toISOString().substring(0,10)}function gR(r,e=dR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ev(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ev(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i1()?r1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ev(r){return Zc(JSON.stringify({version:2,heartbeats:r})).length}function _R(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){Ka(new js("platform-logger",e=>new x1(e),"PRIVATE")),Ka(new js("heartbeat",e=>new pR(e),"PRIVATE")),Ur(mm,gv,r),Ur(mm,gv,"esm2020"),Ur("fire-js","")}vR("");function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ER=yT,_T=new Kl("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Fm("@firebase/auth");function TR(r,...e){Jc.logLevel<=Oe.WARN&&Jc.warn(`Auth (${ro}): ${r}`,...e)}function zc(r,...e){Jc.logLevel<=Oe.ERROR&&Jc.error(`Auth (${ro}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(r,...e){throw Ym(r,...e)}function Bn(r,...e){return Ym(r,...e)}function Km(r,e,n){const s={...ER(),[e]:n};return new Kl("auth","Firebase",s).create(e,{appName:r.name})}function ks(r){return Km(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&mi(r,"argument-error"),Km(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ym(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return _T.create(r,...e)}function Te(r,e,...n){if(!r)throw Ym(e,...n)}function Fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zc(e),new Error(e)}function Xi(r,e){r||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){return typeof self<"u"&&self.location?.href||""}function SR(){return Tv()==="http:"||Tv()==="https:"}function Tv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SR()||Jw()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Xw()||e1()}get(){return bR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new $l(3e4,6e4);function Xm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function so(r,e,n,s,o={}){return ET(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Yl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return Ww()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),vT.fetch()(await TT(r,r.config.apiHost,n,m),y)})}async function ET(r,e,n){r._canInitEmulator=!1;const s={...RR,...e};try{const o=new DR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Dc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Dc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Km(r,E,y);mi(r,E)}}catch(o){if(o instanceof tr)throw o;mi(r,"network-request-failed",{message:String(o)})}}async function NR(r,e,n,s,o={}){const u=await so(r,e,n,s,o);return"mfaPendingCredential"in u&&mi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function TT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?$m(r.config,o):`${r.config.apiScheme}://${o}`;return IR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bn(this.auth,"network-request-failed")),CR.get())})}}function Dc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bn(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(r,e){return so(r,"POST","/v1/accounts:delete",e)}async function eh(r,e){return so(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OR(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=Zm(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Nl(nm(o.auth_time)),issuedAtTime:Nl(nm(o.iat)),expirationTime:Nl(nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function nm(r){return Number(r)*1e3}function Zm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(n);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Av(r){const e=Zm(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof tr&&MR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function MR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(r){const e=r.auth,n=await r.getIdToken(),s=await kl(r,eh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?AT(o.providerUserInfo):[],f=kR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function PR(r){const e=Ft(r);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function AT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e){const n=await ET(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await TT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(g.credentials="include"),vT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UR(r,e){return so(r,"POST","/v2/accounts:revokeToken",Xm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Av(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await LR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new qa;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new VR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OR(this,e)}reload(){return PR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await kl(this,xR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:V,providerData:L,stsTokenManager:X}=n;Te(S&&X,e,"internal-error");const F=qa.fromJSON(this.name,X);Te(typeof S=="string",e,"internal-error"),xr(s,e.name),xr(o,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof V=="boolean",e,"internal-error"),xr(u,e.name),xr(f,e.name),xr(m,e.name),xr(g,e.name),xr(y,e.name),xr(E,e.name);const ne=new zn({uid:S,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:E});return L&&Array.isArray(L)&&(ne.providerData=L.map(ee=>({...ee}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new qa;o.updateFromServerResponse(n);const u=new zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await th(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?AT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new qa;m.updateFromIdToken(s);const g=new zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;function Gi(r){Xi(r instanceof Function,"Expected a class definition");let e=Sv.get(r);return e?(Xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Sv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ST.type="NONE";const bv=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ha{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Bc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await eh(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ha(Gi(bv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Gi(bv);const f=Bc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const b=await eh(e,{idToken:E}).catch(()=>{});if(!b)break;S=await zn._fromGetAccountInfoResponse(e,b,E)}else S=zn._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ha(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ha(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(DT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||RT(e))&&!e.includes("edge/"))return"Chrome";if(CT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function bT(r=Wt()){return/firefox\//i.test(r)}function wT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RT(r=Wt()){return/crios\//i.test(r)}function IT(r=Wt()){return/iemobile/i.test(r)}function CT(r=Wt()){return/android/i.test(r)}function NT(r=Wt()){return/blackberry/i.test(r)}function DT(r=Wt()){return/webos/i.test(r)}function Wm(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jR(r=Wt()){return Wm(r)&&!!window.navigator?.standalone}function zR(){return t1()&&document.documentMode===10}function xT(r=Wt()){return Wm(r)||CT(r)||DT(r)||NT(r)||/windows phone/i.test(r)||IT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r,e=[]){let n;switch(r){case"Browser":n=wv(Wt());break;case"Worker":n=`${wv(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(r,e={}){return so(r,"GET","/v2/passwordPolicy",Xm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=6;class FR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rv(this),this.idTokenSubscription=new Rv(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eh(this,{idToken:e}),s=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ks(this));const n=e?Ft(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qR(this),n=new FR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await UR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ah(r){return Ft(r)}class Rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=u1(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QR(r){Jm=r}function KR(r){return Jm.loadJS(r)}function YR(){return Jm.gapiScript}function $R(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(r,e){const n=Qm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Us(u,e??{}))return o;mi(o,"already-initialized")}return n.initialize({options:e})}function ZR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function WR(r,e,n){const s=Ah(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=MT(e),{host:f,port:m}=JR(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Us(y,s.config.emulator)&&Us(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,io(f)?(uT(`${u}//${f}${g}`),cT("Auth",!0)):eI()}function MT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function JR(r){const e=MT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Iv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Iv(f)}}}function Iv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function eI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(r,e){return NR(r,"POST","/v1/accounts:signInWithIdp",Xm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="http://localhost";class zs extends VT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Fa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fa(e,n)}buildRequest(){const e={requestUri:tI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Xl{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hi.credential(n,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Xl{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Xl{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await zn._fromIdTokenResponse(e,s,o),f=Cv(s);return new Ya({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Cv(s);return new Ya({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Cv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new nh(e,n,s,o)}}function PT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,u,e,s):u})}async function nI(r,e,n=!1){const s=await kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(ks(s));const o="reauthenticate";try{const u=await kl(r,PT(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Zm(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),Ya._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,e,n=!1){if(jn(r.app))return Promise.reject(ks(r));const s="signIn",o=await PT(r,s,e),u=await Ya._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function sI(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function aI(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function oI(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function lI(r){return Ft(r).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1e3,cI=10;class LT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LT.type="LOCAL";const hI=LT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UT.type="SESSION";const jT=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await fI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=tp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function mI(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function pI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gI(){return navigator?.serviceWorker?.controller||null}function yI(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebaseLocalStorageDb",_I=1,rh="firebaseLocalStorage",qT="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bh(r,e){return r.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function vI(){const r=indexedDB.deleteDatabase(BT);return new Zl(r).toPromise()}function vm(){const r=indexedDB.open(BT,_I);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:qT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?e(s):(s.close(),await vI(),e(await vm()))})})}async function Nv(r,e,n){const s=bh(r,!0).put({[qT]:e,value:n});return new Zl(s).toPromise()}async function EI(r,e){const n=bh(r,!1).get(e),s=await new Zl(n).toPromise();return s===void 0?null:s.value}function Dv(r,e){const n=bh(r,!0).delete(e);return new Zl(n).toPromise()}const TI=800,AI=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>AI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(yI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new dI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await Nv(e,ih,"1"),await Dv(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>EI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=bh(o,!1).getAll();return new Zl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const SI=HT;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,e){return e?Gi(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends VT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bI(r){return rI(r.auth,new np(r),r.bypassAuthState)}function wI(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),iI(n,new np(r),r.bypassAuthState)}async function RI(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),nI(n,new np(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bI;case"linkViaPopup":case"linkViaRedirect":return RI;case"reauthViaPopup":case"reauthViaRedirect":return wI;default:mi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new $l(2e3,1e4);async function CI(r,e,n){if(jn(r.app))return Promise.reject(Bn(r,"operation-not-supported-in-this-environment"));const s=Ah(r);AR(r,e,ep);const o=FT(s,n);return new Vs(s,"signInViaPopup",e,o).executeNotNull()}class Vs extends GT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,II.get())};e()}}Vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="pendingRedirect",qc=new Map;class DI extends GT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const s=await xI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xI(r,e){const n=VI(e),s=MI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OI(r,e){qc.set(r._key(),e)}function MI(r){return Gi(r._redirectPersistence)}function VI(r){return Bc(NI,r.config.apiKey,r.name)}async function PI(r,e,n=!1){if(jn(r.app))return Promise.reject(ks(r));const s=Ah(r),o=FT(s,e),f=await new DI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=600*1e3;class LI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kI&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(e))}saveEventToCache(e){this.cachedEventUids.add(xv(e)),this.lastProcessedEventTime=Date.now()}}function xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function QT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function UI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e={}){return so(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BI=/^https?/;async function qI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jI(r);for(const n of e)try{if(HI(n))return}catch{}mi(r,"unauthorized-domain")}function HI(r){const e=ym(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!BI.test(n))return!1;if(zI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new $l(3e4,6e4);function Ov(){const r=li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GI(r){return new Promise((e,n)=>{function s(){Ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ov(),n(Bn(r,"network-request-failed"))},timeout:FI.get()})}if(li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(li().gapi?.load)s();else{const o=$R("iframefcb");return li()[o]=()=>{gapi.load?s():n(Bn(r,"network-request-failed"))},KR(`${YR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function QI(r){return Hc=Hc||GI(r),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new $l(5e3,15e3),YI="__/auth/iframe",$I="emulator/auth/iframe",XI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WI(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$m(e,$I):`https://${r.config.authDomain}/${YI}`,s={apiKey:e.apiKey,appName:r.name,v:ro},o=ZI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yl(s).slice(1)}`}async function JI(r){const e=await QI(r),n=li().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:WI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Bn(r,"network-request-failed"),m=li().setTimeout(()=>{u(f)},KI.get());function g(){li().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tC=500,nC=600,iC="_blank",rC="http://localhost";class Mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sC(r,e,n,s=tC,o=nC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...eC,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=RT(y)?iC:n),bT(y)&&(e=e||rC,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[V,L])=>`${b}${V}=${L},`,"");if(jR(y)&&m!=="_self")return aC(e||"",m),new Mv(null);const S=window.open(e||"",m,E);Te(S,r,"popup-blocked");try{S.focus()}catch{}return new Mv(S)}function aC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="__/auth/handler",lC="emulator/auth/handler",uC=encodeURIComponent("fac");async function Vv(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ro,eventId:o};if(e instanceof ep){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",l1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Xl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${uC}=${encodeURIComponent(g)}`:"";return`${cC(r)}?${Yl(m).slice(1)}${y}`}function cC({config:r}){return r.emulator?$m(r,lC):`https://${r.authDomain}/${oC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class hC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=PI,this._overrideRedirectResult=OI}async _openPopup(e,n,s,o){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Vv(e,n,s,ym(),o);return sC(e,u,tp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Vv(e,n,s,ym(),o);return mI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Xi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JI(e),s=new LI(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},o=>{const u=o?.[0]?.[im];u!==void 0&&n(!!u),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xT()||wT()||Wm()}}const fC=hC;var Pv="@firebase/auth",kv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pC(r){Ka(new js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(r)},y=new GR(s,o,u,g);return ZR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ka(new js("auth-internal",e=>{const n=Ah(e.getProvider("auth").getImmediate());return(s=>new dC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(Pv,kv,mC(r)),Ur(Pv,kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=300,yC=lT("authIdTokenMaxAge")||gC;let Lv=null;const _C=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yC)return;const o=n?.token;Lv!==o&&(Lv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vC(r=mT()){const e=Qm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=XR(r,{popupRedirectResolver:fC,persistence:[SI,hI,jT]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=_C(u.toString());aI(n,f,()=>f(n.currentUser)),sI(n,m=>f(m))}}const o=aT("auth");return o&&WR(n,`http://${o}`),n}function EC(){return document.getElementsByTagName("head")?.[0]??document}QR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Bn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",EC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pC("Browser");var TC="firebase",AC="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(TC,AC,"app");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,KT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function R(){}R.prototype=w.prototype,O.D=w.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(x,M,k){for(var C=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)C[kt-2]=arguments[kt];return w.prototype[M].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)x[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)x[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=O.g[0],R=O.g[1],M=O.g[2];var k=O.g[3],C=w+(k^R&(M^k))+x[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+x[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+x[2]+606105819&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+x[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(k^R&(M^k))+x[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+x[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+x[6]+2821735955&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+x[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(k^R&(M^k))+x[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+x[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+x[10]+4294925233&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+x[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(k^R&(M^k))+x[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(M^w&(R^M))+x[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(R^k&(w^R))+x[14]+2792965006&4294967295,M=k+(C<<17&4294967295|C>>>15),C=R+(w^M&(k^w))+x[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(M^k&(R^M))+x[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+x[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+x[11]+643717713&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+x[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(R^M))+x[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+x[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+x[15]+3634488961&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+x[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(R^M))+x[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+x[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+x[3]+4107603335&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+x[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(R^M))+x[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^M&(w^R))+x[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(k^w))+x[7]+1735328473&4294967295,M=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(M^k))+x[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(R^M^k)+x[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+x[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+x[11]+1839030562&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+x[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^k)+x[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+x[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+x[7]+4139469664&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+x[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^k)+x[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+x[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+x[3]+3572445317&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+x[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^k)+x[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^M)+x[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^R)+x[15]+530742520&4294967295,M=k+(C<<16&4294967295|C>>>16),C=R+(M^k^w)+x[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(M^(R|~k))+x[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+x[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+x[14]+2878612391&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+x[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~k))+x[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+x[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+x[10]+4293915773&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+x[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~k))+x[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+x[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+x[6]+2734768916&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+x[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~k))+x[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~M))+x[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~R))+x[2]+718787259&4294967295,M=k+(C<<15&4294967295|C>>>17),C=R+(k^(M|~w))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var R=w-this.blockSize,x=this.B,M=this.h,k=0;k<w;){if(M==0)for(;k<=R;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<w;)if(x[M++]=O.charCodeAt(k++),M==this.blockSize){o(this,x),M=0;break}}else for(;k<w;)if(x[M++]=O[k++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var R=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=R&255,R/=256;for(this.u(O),O=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)O[R++]=this.g[w]>>>x&255;return O};function u(O,w){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=w(O)}function f(O,w){this.h=w;for(var R=[],x=!0,M=O.length-1;0<=M;M--){var k=O[M]|0;x&&k==w||(R[M]=k,x=!1)}this.g=R}var m={};function g(O){return-128<=O&&128>O?u(O,function(w){return new f([w|0],0>w?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return F(y(-O));for(var w=[],R=1,x=0;O>=R;x++)w[x]=O/R|0,R*=4294967296;return new f(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return F(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),x=S,M=0;M<O.length;M+=8){var k=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+k),w);8>k?(k=y(Math.pow(w,k)),x=x.j(k).add(y(C))):(x=x.j(R),x=x.add(y(C)))}return x}var S=g(0),b=g(1),V=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-F(this).m();for(var O=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);O+=(0<=x?x:4294967296+x)*w,w*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(X(this))return"-"+F(this).toString(O);for(var w=y(Math.pow(O,6)),R=this,x="";;){var M=be(R,w).g;R=ne(R,M.j(w));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,L(R))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function X(O){return O.h==-1}r.l=function(O){return O=ne(this,O),X(O)?-1:L(O)?0:1};function F(O){for(var w=O.g.length,R=[],x=0;x<w;x++)R[x]=~O.g[x];return new f(R,~O.h).add(b)}r.abs=function(){return X(this)?F(this):this},r.add=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0,M=0;M<=w;M++){var k=x+(this.i(M)&65535)+(O.i(M)&65535),C=(k>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);x=C>>>16,k&=65535,C&=65535,R[M]=C<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(O,w){return O.add(F(w))}r.j=function(O){if(L(this)||L(O))return S;if(X(this))return X(O)?F(this).j(F(O)):F(F(this).j(O));if(X(O))return F(this.j(F(O)));if(0>this.l(V)&&0>O.l(V))return y(this.m()*O.m());for(var w=this.g.length+O.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<O.g.length;M++){var k=this.i(x)>>>16,C=this.i(x)&65535,kt=O.i(M)>>>16,ot=O.i(M)&65535;R[2*x+2*M]+=C*ot,ee(R,2*x+2*M),R[2*x+2*M+1]+=k*ot,ee(R,2*x+2*M+1),R[2*x+2*M+1]+=C*kt,ee(R,2*x+2*M+1),R[2*x+2*M+2]+=k*kt,ee(R,2*x+2*M+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function ee(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function re(O,w){this.g=O,this.h=w}function be(O,w){if(L(w))throw Error("division by zero");if(L(O))return new re(S,S);if(X(O))return w=be(F(O),w),new re(F(w.g),F(w.h));if(X(w))return w=be(O,F(w)),new re(F(w.g),w.h);if(30<O.g.length){if(X(O)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=w;0>=x.l(O);)R=he(R),x=he(x);var M=pe(R,1),k=pe(x,1);for(x=pe(x,2),R=pe(R,2);!L(x);){var C=k.add(x);0>=C.l(O)&&(M=M.add(R),k=C),x=pe(x,1),R=pe(R,1)}return w=ne(O,M.j(w)),new re(M,w)}for(M=S;0<=O.l(w);){for(R=Math.max(1,Math.floor(O.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=y(R),C=k.j(w);X(C)||0<C.l(O);)R-=x,k=y(R),C=k.j(w);L(k)&&(k=b),M=M.add(k),O=ne(O,C)}return new re(M,O)}r.A=function(O){return be(this,O).h},r.and=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&O.i(x);return new f(R,this.h&O.h)},r.or=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|O.i(x);return new f(R,this.h|O.h)},r.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^O.i(x);return new f(R,this.h^O.h)};function he(O){for(var w=O.g.length+1,R=[],x=0;x<w;x++)R[x]=O.i(x)<<1|O.i(x-1)>>>31;return new f(R,O.h)}function pe(O,w){var R=w>>5;w%=32;for(var x=O.g.length-R,M=[],k=0;k<x;k++)M[k]=0<w?O.i(k+R)>>>w|O.i(k+R+1)<<32-w:O.i(k+R);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,KT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,jr=f}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,bl,$T,Fc,Em,XT,ZT,WT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var Q=_++;return{value:p(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function S(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function b(c,p,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function V(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,Q){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return p.prototype[U].apply(A,se)}}function X(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function F(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const U=c.length||0,Q=A.length||0;c.length=U+Q;for(let se=0;se<Q;se++)c[U+se]=A[se]}else c.push(A)}}class ne{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function be(c){return be[" "](c),c}be[" "]=function(){};var he=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function pe(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function O(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,p){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class kt{constructor(){this.h=this.g=null}add(p,_){const A=ot.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new ne(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,ze=new kt,N=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){k(_)}var p=ot;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Ce(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(he){e:{try{be(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}L(Ce,ie);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),We=0;function Fn(c,p,_,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=U,this.key=++We,this.da=this.fa=!1}function nr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,p,_,A,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=Zr(c,p,A,U);return-1<se?(p=c[se],_||(p.fa=!1)):(p=new Fn(p,this.src,Q,!!A,U),p.fa=_,c.push(p)),p};function Xr(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,p,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(A,U,1),Q&&(nr(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zr(c,p,_,A){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==A)return U}return-1}var Wr="closure_lm_"+(1e6*Math.random()|0),fo={};function su(c,p,_,A,U){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)su(c,p[Q],_,A,U);return null}return _=au(_),c&&c[Nt]?c.K(p,_,y(A)?!!A.capture:!1,U):vn(c,p,_,!1,A,U)}function vn(c,p,_,A,U,Q){if(!p)throw Error("Invalid event type");var se=y(U)?!!U.capture:!!U,Pe=Ks(c);if(Pe||(c[Wr]=Pe=new yi(c)),_=Pe.add(p,_,A,se,Q),_.proxy)return _;if(A=qh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ge||(U=se),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(Jr(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qh(){function c(_){return p.call(c.src,c.listener,_)}const p=Hh;return c}function mo(c,p,_,A,U){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)mo(c,p[Q],_,A,U);else A=y(A)?!!A.capture:!!A,_=au(_),c&&c[Nt]?(c=c.i,p=String(p).toString(),p in c.g&&(Q=c.g[p],_=Zr(Q,_,A,U),-1<_&&(nr(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ks(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Zr(p,_,A,U)),(_=-1<c?p[c]:null)&&Qs(_))}function Qs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Nt])Xr(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(Jr(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Ks(p))?(Xr(_,c),_.h==0&&(_.src=null,p[Wr]=null)):nr(c)}}}function Jr(c){return c in fo?fo[c]:fo[c]="on"+c}function Hh(c,p){if(c.da)c=!0;else{p=new Ce(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&Qs(c),c=_.call(A,p)}return c}function Ks(c){return c=c[Wr],c instanceof yi?c:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(c){return typeof c=="function"?c:(c[po]||(c[po]=function(p){return c.handleEvent(p)}),c[po])}function lt(){oe.call(this),this.i=new yi(this),this.M=this,this.F=null}L(lt,oe),lt.prototype[Nt]=!0,lt.prototype.removeEventListener=function(c,p,_,A){mo(this,c,p,_,A)};function Fe(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var U=p;p=new ie(A,c),x(p,U)}if(U=!0,_)for(var Q=_.length-1;0<=Q;Q--){var se=p.g=_[Q];U=un(se,A,!0,p)&&U}if(se=p.g=c,U=un(se,A,!0,p)&&U,U=un(se,A,!1,p)&&U,_)for(Q=0;Q<_.length;Q++)se=p.g=_[Q],U=un(se,A,!1,p)&&U}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)nr(_[A]);delete c.g[p],c.h--}}this.F=null},lt.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},lt.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function un(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,Q=0;Q<p.length;++Q){var se=p[Q];if(se&&!se.da&&se.capture==_){var Pe=se.listener,bt=se.ha||se.src;se.fa&&Xr(c.i,se),U=Pe.call(bt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Qt(c,p,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function ou(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,ou(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Fh extends oe{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){oe.call(this),this.h=c,this.g={}}L(es,oe);var ts=[];function ns(c){pe(c.g,function(p,_){this.g.hasOwnProperty(_)&&Qs(p)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),ns(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=m.JSON.stringify,Ys=m.JSON.parse,is=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function go(){}go.prototype.h=null;function yo(c){return c.h||(c.h=c.i())}function _o(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){ie.call(this,"d")}L(vi,ie);function vo(){ie.call(this,"c")}L(vo,ie);var Gn={},Eo=null;function ir(){return Eo=Eo||new lt}Gn.La="serverreachability";function $s(c){ie.call(this,Gn.La,c)}L($s,ie);function rr(c){const p=ir();Fe(p,new $s(p))}Gn.STAT_EVENT="statevent";function lu(c,p){ie.call(this,Gn.STAT_EVENT,c),this.stat=p}L(lu,ie);function nt(c){const p=ir();Fe(p,new lu(p,c))}Gn.Ma="timingevent";function St(c,p){ie.call(this,Gn.Ma,c),this.size=p}L(St,ie);function pt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function To(c,p,_,A,U,Q){c.info(function(){if(c.g)if(Q)for(var se="",Pe=Q.split("&"),bt=0;bt<Pe.length;bt++){var ke=Pe[bt].split("=");if(1<ke.length){var xt=ke[0];ke=ke[1];var wt=xt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(xt+"="+ke+"&"):se+(xt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+_+`
`+se})}function Gh(c,p,_,A,U,Q,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+_+`
`+Q+" "+se})}function sr(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+rs(c,_)+(A?" "+A:"")})}function uu(c,p){c.info(function(){return"TIMEOUT: "+p})}En.prototype.info=function(){};function rs(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Mn(_)}catch{return p}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Kn(){}L(Kn,go),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Qn=new Kn;function Jt(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Ao={},Xs={};function Vn(c,p,_){c.L=1,c.v=us(cn(p)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,p){c.F=Date.now(),ss(c),c.A=cn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Co(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ht,c.g=wu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Fh(b(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ts[0]=U.toString()),U=ts);for(var Q=0;Q<U.length;Q++){var se=su(_,U[Q],A||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),rr(),To(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const p=this.M;p&&bn(c)==3?p.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const wt=bn(this.g);var p=this.g.Ba();const Ni=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Ni?rr(3):rr(2)),or(this);var _=this.g.Z();this.X=_;t:if(cu(this)){var A=yu(this.g);c="";var U=A.length,Q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),Yn(this);var se="";break t}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(Q&&p==U-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Gh(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,bt=this.g;if((Pe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,_);else{this.o=!1,this.s=3,nt(12),Lt(this),Yn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=hu(this,se),Ut==Xs){wt==4&&(this.s=4,nt(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Ao){this.s=4,nt(15),sr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,Ut,null),as(this,Ut);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,se,"[Invalid Chunked Response]"),Lt(this),Yn(this);else if(0<se.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ys(xt),xt.M=!0,nt(11))}}else sr(this.i,this.l,se,null),as(this,se);wt==4&&Lt(this),this.o&&!this.J&&(wt==4?Au(this.j,this):(this.o=!1,ss(this)))}else Xh(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Lt(this),Yn(this)}}}catch{}finally{}};function cu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hu(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?Xs:(_=Number(p.substring(_,A)),isNaN(_)?Ao:(A+=1,A+_>p.length?Xs:(p=p.slice(A,A+_),c.C=A+_,p)))}Jt.prototype.cancel=function(){this.J=!0,Lt(this)};function ss(c){c.S=Date.now()+c.I,fu(c,c.I)}function fu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(b(c.ba,c),p)}function or(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(uu(this.i,this.A),this.L!=2&&(rr(),nt(17)),Lt(this),this.s=2,Yn(this)):fu(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Au(c.j,c)}function Lt(c){or(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,ns(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function as(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||So(_.h,c))){if(!c.K&&So(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)la(_),aa(_);else break e;Mo(_),nt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(b(_.Za,_),6e3));if(1>=Ws(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&la(_),!ee(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let ke=U[p];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const xt=ke[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const wt=ke[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Ni=ke[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(A=1.5*Ni,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ut=c.g;if(Ut){const ti=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var Q=A.h;Q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Js(Q,Q.h),Q.h=null))}if(A.D){const Po=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(A.ya=Po,Ke(A.I,A.D,Po))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=bu(A,A.J?A.ia:null,A.W),se.K){en(A.h,se);var Pe=se,bt=A.L;bt&&(Pe.I=bt),Pe.B&&(or(Pe),ss(Pe)),A.g=se}else Eu(A);0<_.i.length&&oa(_)}else ke[0]!="stop"&&ke[0]!="close"||Ci(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ci(_,7):xo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}rr(4)}catch{}}var du=class{constructor(c,p){this.g=c,this.map=p}};function Ai(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ws(c){return c.h?1:c.g?c.g.size:0}function So(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Js(c,p){c.g?c.g.add(p):c.h=p}function en(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ai.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return X(c.i)}function Qh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function wo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=ea(c),A=Qh(c),U=A.length,Q=0;Q<U;Q++)p.call(void 0,A[Q],_&&_[Q],c)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var Q=c[_].substring(0,A);U=c[_].substring(A+1)}else Q=c[_];p(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,lr(this,c.s),this.l=c.l;var p=c.i,_=new bi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Si(this,_),this.m=c.m}else c&&(p=String(c).match(os))?(this.h=!1,ls(this,p[1]||"",!0),this.o=Tn(p[2]||""),this.g=Tn(p[3]||"",!0),lr(this,p[4]),this.l=Tn(p[5]||"",!0),Si(this,p[6]||"",!0),this.m=Tn(p[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}gt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(cs(p,Ro,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(cs(p,Ro,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(cs(_,_.charAt(0)=="/"?Yh:Io,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",cs(_,ta)),c.join("")};function cn(c){return new gt(c)}function ls(c,p,_){c.j=_?Tn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function lr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Si(c,p,_){p instanceof bi?(c.i=p,pu(c.i,c.h)):(_||(p=cs(p,$h)),c.i=new bi(p,c.h))}function Ke(c,p,_){c.i.set(p,_)}function us(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,mu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ro=/[#\/\?@]/g,Io=/[#\?:]/g,Yh=/[#\?]/g,$h=/[#\?@]/g,ta=/#/g;function bi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&Kh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=bi.prototype,r.add=function(c,p){An(this),this.i=null,c=$n(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function wi(c,p){An(c),p=$n(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ri(c,p){return An(c),p=$n(c,p),c.g.has(p)}r.forEach=function(c,p){An(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(p,U,A,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const U=c[A];for(let Q=0;Q<U.length;Q++)_.push(p[A])}return _},r.V=function(c){An(this);let p=[];if(typeof c=="string")Ri(this,c)&&(p=p.concat(this.g.get($n(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return An(this),this.i=null,c=$n(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Co(c,p,_){wi(c,p),0<_.length&&(c.i=null,c.g.set($n(c,p),X(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const Q=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var U=Q;se[A]!==""&&(U+="="+encodeURIComponent(String(se[A]))),c.push(U)}}return this.i=c.join("&")};function $n(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pu(c,p){p&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(wi(this,A),Co(this,U,_))},c)),c.j=p}function hs(c,p){const _=new En;if(m.Image){const A=new Image;A.onload=V(Sn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=V(Sn,_,"TestLoadImage: error",!1,p,A),A.onabort=V(Sn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=V(Sn,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Pn(c,p){const _=new En,A=new AbortController,U=setTimeout(()=>{A.abort(),Sn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(U),Q.ok?Sn(_,"TestPingServer: ok",!0,p):Sn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Sn(_,"TestPingServer: error",!1,p)})}function Sn(c,p,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function fs(){this.g=new is}function Xn(c,p,_){const A=_||"";try{wo(c,function(U,Q){let se=U;y(U)&&(se=Mn(U)),p.push(A+Q+"="+encodeURIComponent(se))})}catch(U){throw p.push(A+"type="+encodeURIComponent("_badmap")),U}}function ur(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ur,go),ur.prototype.g=function(){return new Ii(this.l,this.j)},ur.prototype.i=(function(c){return function(){return c}})({});function Ii(c,p){lt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ii,lt),r=Ii.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Zn(this):Wn(this),this.readyState==3&&No(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Do(c){let p="";return pe(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Dt(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Do(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,p,_))}function qe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(qe,lt);var na=/^https?$/i,ds=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?yo(this.o):yo(Qn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){gu(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ds,p,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of _)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){gu(this,Q)}};function gu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ia(c),Jn(c)}function ia(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},r.bb=function(){ra(this)};function ra(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),bn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=se===0){var U=String(c.D).match(os)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!na.test(U?U.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Q=2<bn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ia(c)}}finally{Jn(c)}}}}function Jn(c,p){if(c.g){ms(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function ms(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ys(p)}};function yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(c){const p={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var _=M(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[U]||[];p[U]=Q,Q.push(_)}O(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function sa(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,c),this.cb=ps("retryDelaySeedMs",1e4,c),this.Wa=ps("forwardChannelMaxRetries",2,c),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(c&&c.concurrentRequestLimit),this.Da=new fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){nt(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=bu(this,null,this.W),oa(this)};function xo(c){if(_u(c),c.G==3){var p=c.U++,_=cn(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",p),Ke(_,"TYPE","terminate"),gs(c,_),p=new Jt(c,c.j,p),p.L=2,p.v=us(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=wu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ss(p)}Su(c)}function aa(c){c.g&&(ys(c),c.g.cancel(),c.g=null)}function _u(c){aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),la(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function oa(c){if(!Zs(c.h)&&!c.s){c.s=!0;var p=c.Ga;ae||N(),de||(ae(),de=!0),ze.add(p,c),c.B=0}}function Zh(c,p){return Ws(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(b(c.Ga,c,p),Vo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Jt(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=vu(this,U,p),_=cn(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),gs(this,_),Q&&(this.O?p="headers="+encodeURIComponent(String(Do(Q)))+"&"+p:this.m&&Dt(_,this.m,Q)),Js(this.h,U),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",p),Ke(_,"SID","null"),U.T=!0,Vn(U,_,null)):Vn(U,_,p),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||Zs(this.h)||Oo(this))};function Oo(c,p){var _;p?_=p.l:_=c.U++;const A=cn(c.I);Ke(A,"SID",c.K),Ke(A,"RID",_),Ke(A,"AID",c.T),gs(c,A),c.m&&c.o&&Dt(A,c.m,c.o),_=new Jt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Js(c.h,_),Vn(_,A,p)}function gs(c,p){c.H&&pe(c.H,function(_,A){Ke(p,A,_)}),c.l&&wo({},function(_,A){Ke(p,A,_)})}function vu(c,p,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;e:{var U=c.i;let Q=-1;for(;;){const se=["count="+_];Q==-1?0<_?(Q=U[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let Pe=!0;for(let bt=0;bt<_;bt++){let ke=U[bt].g;const xt=U[bt].map;if(ke-=Q,0>ke)Q=Math.max(0,U[bt].g-100),Pe=!1;else try{Xn(xt,se,"req"+ke+"_")}catch{A&&A(xt)}}if(Pe){A=se.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,A}function Eu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ae||N(),de||(ae(),de=!0),ze.add(p,c),c.v=0}}function Mo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(b(c.Fa,c),Vo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),aa(this),Tu(this))};function ys(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=cn(c.qa);Ke(p,"RID","rpc"),Ke(p,"SID",c.K),Ke(p,"AID",c.T),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(p,"TO",c.ja),Ke(p,"TYPE","xmlhttp"),gs(c,p),c.m&&c.o&&Dt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=us(cn(p)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,aa(this),Mo(this),nt(19))};function la(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Au(c,p){var _=null;if(c.g==p){la(c),ys(c),c.g=null;var A=2}else if(So(c.h,p))_=p.D,en(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;A=ir(),Fe(A,new St(A,_)),oa(c)}else Eu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(A==1&&Zh(c,p)||A==2&&Mo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Vo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ci(c,p){if(c.j.info("Error code "+p),p==2){var _=b(c.fb,c),A=c.Xa;const U=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ls(A,"https"),us(A),U?hs(A.toString(),_):Pn(A.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(p),Su(c),_u(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const p=bo(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function bu(c,p,_){var A=_ instanceof gt?cn(_):new gt(_);if(A.g!="")p&&(A.g=p+"."+A.g),lr(A,A.s);else{var U=m.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var Q=new gt(null);A&&ls(Q,A),p&&(Q.g=p),U&&lr(Q,U),_&&(Q.l=_),A=Q}return _=c.D,p=c.ya,_&&p&&Ke(A,_,p),Ke(A,"VER",c.la),gs(c,A),A}function wu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qe(new ur({eb:_})):new qe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ua(){}ua.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){lt.call(this),this.g=new sa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ee(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ei(this)}L(tn,lt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){xo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Mn(c),c=_);p.i.push(new du(p.Ya++,c)),p.G==3&&oa(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,tn.aa.N.call(this)};function Iu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}L(Iu,vi);function Cu(){vo.call(this),this.status=1}L(Cu,vo);function ei(c){this.g=c}L(ei,Ru),ei.prototype.ua=function(){Fe(this.g,"a")},ei.prototype.ta=function(c){Fe(this.g,new Iu(c))},ei.prototype.sa=function(c){Fe(this.g,new Cu)},ei.prototype.ra=function(){Fe(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,WT=function(){return new ua},ZT=function(){return ir()},XT=Gn,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Fc=ar,Ei.COMPLETE="complete",$T=Ei,_o.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",lt.prototype.listen=lt.prototype.K,bl=_o,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,YT=qe}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",zv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Fm("@firebase/firestore");function Ua(){return Bs.logLevel}function ue(r,...e){if(Bs.logLevel<=Oe.DEBUG){const n=e.map(ip);Bs.debug(`Firestore (${ao}): ${r}`,...n)}}function Zi(r,...e){if(Bs.logLevel<=Oe.ERROR){const n=e.map(ip);Bs.error(`Firestore (${ao}): ${r}`,...n)}}function $a(r,...e){if(Bs.logLevel<=Oe.WARN){const n=e.map(ip);Bs.warn(`Firestore (${ao}): ${r}`,...n)}}function ip(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,JT(r,s,n)}function JT(r,e,n){let s=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zi(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||JT(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Xt.UNAUTHENTICATED)))}shutdown(){}}class bC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wC{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new e0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class RC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new RC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function Tm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return rm(o)===rm(u)?Me(o,u):rm(o)?1:-1}return Me(r.length,e.length)}const DC=55296,xC=57343;function rm(r){const e=r.charCodeAt(0);return e>=DC&&e<=xC}function Xa(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__name__";class oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=oi.isNumericId(e),o=oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(e).compare(oi.extractNumericId(n)):Tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class et extends oi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const OC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends oi{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return OC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new Ht([qv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MC(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Hv(r){if(!me.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Fv(r){if(me.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function n0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Wi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Wl(r,e){if(!n0(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=-62135596800,Qv=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Qv);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gv)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Tt("string",tt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new tt(0,0))}static max(){return new Se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function VC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new qr(o,me.empty(),e)}function PC(r){return new qr(r.readTime,r.key,Ll)}class qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(Se.min(),me.empty(),Ll)}static max(){return new qr(Se.max(),me.empty(),Ll)}}function kC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==LC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new J(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function jC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-1;function Ih(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function zC(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="";function BC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Kv(e)),e=qC(r.get(n),e);return Kv(e)}function qC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case i0:n+="";break;default:n+=u}}return n}function Kv(r){return r+i0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Yr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function r0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Ct(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new s0("Invalid base64 string: "+u):u}})(e);return new Gt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const HC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=HC.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="server_timestamp",o0="__type__",l0="__previous_value__",u0="__local_write_time__";function ap(r){return(r?.mapValue?.fields||{})[o0]?.stringValue===a0}function Ch(r){const e=r.mapValue.fields[l0];return ap(e)?Ch(e):e}function Ul(r){const e=Hr(r.mapValue.fields[u0].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,s,o,u,f,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const ah="(default)";class jl{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__type__",GC="__max__",Mc={mapValue:{}},h0="__vector__",oh="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ap(r)?4:KC(r)?9007199254740991:QC(r)?10:11:ve(28295,{value:r})}function pi(r,e){if(r===e)return!0;const n=Gr(r);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ul(r).isEqual(Ul(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Hr(o.timestampValue),m=Hr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Fr(o.bytesValue).isEqual(Fr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?sh(f)===sh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Yv(f)!==Yv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!pi(f[g],m[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function zl(r,e){return(r.values||[]).find((n=>pi(n,e)))!==void 0}function Za(r,e){if(r===e)return 0;const n=Gr(r),s=Gr(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=mt(u.integerValue||u.doubleValue),g=mt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Xv(r.timestampValue,e.timestampValue);case 4:return Xv(Ul(r),Ul(e));case 5:return Tm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Fr(u),g=Fr(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Me(m[y],g[y]);if(E!==0)return E}return Me(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Me(mt(u.latitude),mt(f.latitude));return m!==0?m:Me(mt(u.longitude),mt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Zv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[oh]?.arrayValue,E=g[oh]?.arrayValue,S=Me(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Zv(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Mc.mapValue&&f===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(f===Mc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const b=Tm(g[S],E[S]);if(b!==0)return b;const V=Za(m[g[S]],y[E[S]]);if(V!==0)return V}return Me(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Xv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=Hr(r),s=Hr(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function Zv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Za(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function Wa(r){return Am(r)}function Am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Hr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Fr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Am(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function Gc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return Fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Gc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Yr(s.fields,((u,f)=>{o+=u.length+Gc(f)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function Wv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sm(r){return!!r&&"integerValue"in r}function op(r){return!!r&&"arrayValue"in r}function Jv(r){return!!r&&"nullValue"in r}function eE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function QC(r){return(r?.mapValue?.fields||{})[c0]?.stringValue===h0}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Dl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return e}return{...r}}function KC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Dl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Yr(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ln(Dl(this.value))}}function f0(r){const e=[];return Yr(r.fields,((n,s)=>{const o=new Ht([n]);if(Qc(s)){const u=f0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function tE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Za(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function YC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{}class Et extends d0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XC(e,n,s):n==="array-contains"?new JC(e,s):n==="in"?new e2(e,s):n==="not-in"?new t2(e,s):n==="array-contains-any"?new n2(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZC(e,s):new WC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Za(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends d0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return m0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m0(r){return r.op==="and"}function p0(r){return $C(r)&&m0(r)}function $C(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function bm(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(p0(r))return r.filters.map((e=>bm(e))).join(",");{const e=r.filters.map((n=>bm(n))).join(",");return`${r.op}(${e})`}}function g0(r,e){return r instanceof Et?(function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)})(r,e):r instanceof Hn?(function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&g0(f,o.filters[m])),!0):!1})(r,e):void ve(19439)}function y0(r){return r instanceof Et?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`})(r):r instanceof Hn?(function(n){return n.op.toString()+" {"+n.getFilters().map(y0).join(" ,")+"}"})(r):"Filter"}class XC extends Et{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZC extends Et{constructor(e,n){super(e,"in",n),this.keys=_0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WC extends Et{constructor(e,n){super(e,"not-in",n),this.keys=_0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _0(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class JC extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&zl(n.arrayValue,this.value)}}class e2 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class t2 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class n2 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function iE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new i2(r,e,n,s,o,u,f)}function lp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>bm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Wa(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Wa(s))).join(",")),e.Te=n}return e.Te}function up(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!YC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!g0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nE(r.startAt,e.startAt)&&nE(r.endAt,e.endAt)}function wm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function r2(r,e,n,s,o,u,f,m){return new Jl(r,e,n,s,o,u,f,m)}function cp(r){return new Jl(r)}function rE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function v0(r){return r.collectionGroup!==null}function xl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Ht.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new uh(u,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new uh(Ht.keyField(),s))}return e.Ie}function ui(r){const e=we(r);return e.Ee||(e.Ee=s2(e,xl(r))),e.Ee}function s2(r,e){if(r.limitType==="F")return iE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uh(o.field,u)}));const n=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return iE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Rm(r,e){const n=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Im(r,e,n){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Nh(r,e){return up(ui(r),ui(e))&&r.limitType===e.limitType}function E0(r){return`${lp(ui(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>y0(o))).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Wa(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Wa(o))).join(",")),`Target(${s})`})(ui(r))}; limitType=${r.limitType})`}function Dh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=tE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,xl(s),o)||s.endAt&&!(function(f,m,g){const y=tE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,xl(s),o))})(r,e)}function a2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function T0(r){return(e,n)=>{let s=!1;for(const o of xl(r)){const u=o2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function o2(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Za(g,y):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return r0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new at(me.comparator);function Ji(){return l2}const A0=new at(me.comparator);function wl(...r){let e=A0;for(const n of r)e=e.insert(n.key,n);return e}function S0(r){let e=A0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ps(){return Ol()}function b0(){return Ol()}function Ol(){return new Fs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const u2=new at(me.comparator),c2=new Ct(me.comparator);function Ve(...r){let e=c2;for(const n of r)e=e.add(n);return e}const h2=new Ct(Me);function f2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function w0(r){return{integerValue:""+r}}function d2(r,e){return zC(e)?w0(e):hp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function m2(r,e,n){return r instanceof ch?(function(o,u){const f={fields:{[o0]:{stringValue:a0},[u0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ap(u)&&(u=Ch(u)),u&&(f.fields[l0]=u),{mapValue:f}})(n,e):r instanceof Bl?I0(r,e):r instanceof ql?C0(r,e):(function(o,u){const f=R0(o,u),m=sE(f)+sE(o.Ae);return Sm(f)&&Sm(o.Ae)?w0(m):hp(o.serializer,m)})(r,e)}function p2(r,e,n){return r instanceof Bl?I0(r,e):r instanceof ql?C0(r,e):n}function R0(r,e){return r instanceof hh?(function(s){return Sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ch extends xh{}class Bl extends xh{constructor(e){super(),this.elements=e}}function I0(r,e){const n=N0(e);for(const s of r.elements)n.some((o=>pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ql extends xh{constructor(e){super(),this.elements=e}}function C0(r,e){let n=N0(e);for(const s of r.elements)n=n.filter((o=>!pi(o,s)));return{arrayValue:{values:n}}}class hh extends xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sE(r){return mt(r.integerValue||r.doubleValue)}function N0(r){return op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function g2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Bl&&o instanceof Bl||s instanceof ql&&o instanceof ql?Xa(s.elements,o.elements,pi):s instanceof hh&&o instanceof hh?pi(s.Ae,o.Ae):s instanceof ch&&o instanceof ch})(r.transform,e.transform)}class y2{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oh{}function D0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fp(r.key,qn.none()):new eu(r.key,r.data,qn.none());{const n=r.data,s=ln.empty();let o=new Ct(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $r(r.key,s,new _n(o.toArray()),qn.none())}}function _2(r,e,n){r instanceof eu?(function(o,u,f){const m=o.value.clone(),g=oE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof $r?(function(o,u,f){if(!Kc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=oE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(x0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ml(r,e,n,s){return r instanceof eu?(function(u,f,m,g){if(!Kc(u.precondition,f))return m;const y=u.value.clone(),E=lE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof $r?(function(u,f,m,g){if(!Kc(u.precondition,f))return m;const y=lE(u.fieldTransforms,g,f),E=f.data;return E.setAll(x0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return Kc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function v2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=R0(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function aE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,((u,f)=>g2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends Oh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends Oh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function x0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function oE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,p2(f,m,n[o]))}return s}function lE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,m2(u,f,e))}return s}class fp extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ml(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ml(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=b0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=D0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((n,s)=>aE(n,s)))&&Xa(this.baseMutations,e.baseMutations,((n,s)=>aE(n,s)))}}class dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return u2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new dp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function b2(r){switch(r){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function O0(r){if(r===void 0)return Zi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case vt.OK:return Z.OK;case vt.CANCELLED:return Z.CANCELLED;case vt.UNKNOWN:return Z.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Z.INTERNAL;case vt.UNAVAILABLE:return Z.UNAVAILABLE;case vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case vt.NOT_FOUND:return Z.NOT_FOUND;case vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case vt.ABORTED:return Z.ABORTED;case vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case vt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new jr([4294967295,4294967295],0);function uE(r){const e=w2().encode(r),n=new KT;return n.update(e),new Uint8Array(n.digest())}function cE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new jr([n,s],0),new jr([o,u],0)]}class mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(jr.fromNumber(s)));return o.compare(R2)===1&&(o=new jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uE(e),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=uE(e),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mh(Se.min(),o,new at(Me),Ji(),Ve())}}class tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class M0{constructor(e,n){this.targetId=e,this.Ce=n}}class V0{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hE{constructor(){this.ve=0,this.Fe=fE(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=fE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=Vc(),this.He=Vc(),this.Ye=new at(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(wm(u))if(s===0){const f=new me(u.path);this.et(n,f,Zt.newNoDocument(f,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Fr(s).toUint8Array()}catch(g){if(g instanceof s0)return $a("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new mp(f,o,u)}catch(g){return $a(g instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&wm(m.target)){const g=new me(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Mh(e,n,this.Ye,this.je,s);return this.je=Ji(),this.Je=Vc(),this.He=Vc(),this.Ye=new at(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vc(){return new at(me.comparator)}function fE(){return new at(me.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},N2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class x2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(r,e){return r.useProto3Json||Ih(e)?e:{value:e}}function fh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function O2(r,e){return fh(r,e.toTimestamp())}function ci(r){return He(!!r,49232),Se.fromTimestamp((function(n){const s=Hr(n);return new tt(s.seconds,s.nanos)})(r))}function pp(r,e){return Nm(r,e).canonicalString()}function Nm(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function k0(r){const e=et.fromString(r);return He(B0(e),10190,{key:e.toString()}),e}function Dm(r,e){return pp(r.databaseId,e.path)}function sm(r,e){const n=k0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(U0(n))}function L0(r,e){return pp(r.databaseId,e)}function M2(r){const e=k0(r);return e.length===4?et.emptyPath():U0(e)}function xm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function U0(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dE(r,e,n){return{name:Dm(r,e),fields:n.value.mapValue.fields}}function V2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:O0(y.code);return new le(E,y.message||"")})(f);n=new V0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=sm(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Se.min(),m=new ln({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Yc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=sm(r,s.document),u=s.readTime?ci(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Yc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=sm(r,s.document),u=s.removedTargetIds||[];n=new Yc([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new S2(o,u),m=s.targetId;n=new M0(m,f)}}return n}function P2(r,e){let n;if(e instanceof eu)n={update:dE(r,e.key,e.value)};else if(e instanceof fp)n={delete:Dm(r,e.key)};else if(e instanceof $r)n={update:dE(r,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof E2))return ve(16599,{Vt:e.type});n={verify:Dm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:O2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function k2(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(Se.min())&&(f=ci(u)),new y2(f,o.transformResults||[])})(n,e)))):[]}function L2(r,e){return{documents:[L0(r,e.path)]}}function U2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=L0(r,o);const u=(function(y){if(y.length!==0)return z0(Hn.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:za(b.field),direction:B2(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function j2(r){let e=M2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const b=j0(S);return b instanceof Hn&&p0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((b=>(function(L){return new uh(Ba(L.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,Ih(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(S){const b=!!S.before,V=S.values||[];return new lh(V,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const b=!S.before,V=S.values||[];return new lh(V,b)})(n.endAt)),r2(e,o,f,u,m,"F",g,y)}function z2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ba(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ba(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Et.create(Ba(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Hn.create(n.compositeFilter.filters.map((s=>j0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function B2(r){return C2[r]}function q2(r){return N2[r]}function H2(r){return D2[r]}function za(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Ht.fromServerFormat(r.fieldPath)}function z0(r){return r instanceof Et?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:q2(n.op),value:n.value}}})(r):r instanceof Hn?(function(n){const s=n.getFilters().map((o=>z0(o)));return s.length===1?s[0]:{compositeFilter:{op:H2(n.op),filters:s}}})(r):ve(54877,{filter:r})}function F2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Gt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.yt=e}}function Q2(r){const e=j2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.Cn=new Y2}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(qr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class Y2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(q0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LruGarbageCollector",$2=1048576;function gE([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class X2{constructor(e){this.Ir=e,this.buffer=new Ct(gE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(pE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?ue(pE,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Vr(3e5)}))}}class W2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Rh.ce);const s=new X2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(mE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Ua()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function J2(r,e){return new W2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.changes=new Fs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ml(s.mutation,o,_n.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Ps();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=wl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Ji();const f=Ol(),m=(function(){return Ol()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof $r)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ml(E.mutation,y,E.mutation.getFieldMask(),tt.now())):f.set(y.key,_n.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new tN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ol();let o=new at(((f,m)=>f-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||_n.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=b0();E.forEach((b=>{if(!u.has(b)){const V=D0(n.get(b),s.get(b));V!==null&&S.set(b,V),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ps());let m=Ll,g=u;return f.next((y=>J.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{g=g.insert(E,b)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ve()))).next((E=>({batchId:m,changes:S0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(g=>{const y=(function(S,b){return new Jl(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,b)=>{f=f.insert(S,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=wl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ml(E.mutation,y,_n.empty(),tt.now()),Dh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Q2(o.bundledQuery),readTime:ci(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.overlays=new at(me.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ps(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ps(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new A2(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.Qr=new Ct(Pt.$r),this.Ur=new Ct(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new et([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new et([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Pt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new T2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Me);return n.forEach((o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new me(u),0);let m=new Ct(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.ri=e,this.docs=(function(){return new at(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=Ji();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ji();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||kC(PC(E),s)<=0||(o.has(E.key)||Dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new lN(this)}getSize(e){return J.resolve(this.size)}}class lN extends eN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.persistence=e,this.si=new Fs((n=>lp(n)),up),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new gp,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new sN,this.referenceDelegate=e(this),this.Pi=new uN(this),this.indexManager=new K2,this.remoteDocumentCache=(function(o){return new oN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new G2(n),this.Ii=new iN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new aN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new cN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class cN extends UC{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Vi=null}static mi(e){return new yp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.pi=new Fs((s=>BC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=J2(this,n)}static mi(e,n){return new dh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _p(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return n1()?8:jC(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new hN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ua()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ua()<=Oe.DEBUG&&ue("QueryEngine","Query:",ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ua()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):J.resolve())}ys(e,n){if(rE(n))return J.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,Im(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return rE(n)||o.isEqual(Se.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Ua()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(n)),this.vs(e,f,n,VC(o,Ll)).next((m=>m)))}))}Ds(e,n){let s=new Ct(T0(e));return n.forEach(((o,u)=>{Dh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ua()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ps.getDocumentsMatchingQuery(e,n,qr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="LocalStore",dN=3e8;class mN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new at(Me),this.xs=new Fs((u=>lp(u)),up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function pN(r,e,n,s){return new mN(r,e,n,s)}async function F0(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Ve();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function gN(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,b=S.keys();let V=J.resolve();return b.forEach((L=>{V=V.next((()=>E.getEntry(g,L))).next((X=>{const F=y.docVersions.get(L);He(F!==null,48541),X.version.compareTo(F)<0&&(S.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function G0(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function yN(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let V=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(S,V),(function(X,F,ne){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=dN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(b,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let g=Ji(),y=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(_N(u,f,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function _N(r,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Ji();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(vp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function vN(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function EN(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Pr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Om(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!lo(f))throw f;ue(vp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function yE(r,e,n){const s=we(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=we(g),b=S.xs.get(E);return b!==void 0?J.resolve(S.Ms.get(b)):S.Pi.getTargetData(y,E)})(s,f,ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve()))).next((m=>(TN(s,a2(e),m),{documents:m,Qs:u})))))}function TN(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class _E{constructor(){this.activeTargetIds=f2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AN{constructor(){this.Mo=new _E,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _E,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="ConnectivityMonitor";class EE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(vE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(vE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function Mm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="RestConnection",bN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Mm(),m=this.zo(e,n.toUriEncodedString());ue(am,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=io(y);return this.Jo(e,m,g,s,E).then((S=>(ue(am,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw $a(am,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=bN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class IN extends wN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Mm();return new Promise(((m,g)=>{const y=new YT;y.setWithCredentials(!0),y.listenOnce($T.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const S=y.getResponseJson();ue($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Fc.TIMEOUT:ue($t,`RPC '${e}' ${f} timed out`),g(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const b=y.getStatus();if(ue($t,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const L=V?.error;if(L&&L.status&&L.message){const X=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ee)>=0?ee:Z.UNKNOWN})(L.status);g(new le(X,L.message))}else g(new le(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue($t,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Mm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=WT(),m=ZT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let b=!1,V=!1;const L=new RN({Yo:F=>{V?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),ue($t,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Zo:()=>S.close()}),X=(F,ne,ee)=>{F.listen(ne,(re=>{try{ee(re)}catch(be){setTimeout((()=>{throw be}),0)}}))};return X(S,bl.EventType.OPEN,(()=>{V||(ue($t,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),X(S,bl.EventType.CLOSE,(()=>{V||(V=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(S))})),X(S,bl.EventType.ERROR,(F=>{V||(V=!0,$a($t,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),L.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),X(S,bl.EventType.MESSAGE,(F=>{if(!V){const ne=F.data[0];He(!!ne,16349);const ee=ne,re=ee?.error||ee[0]?.error;if(re){ue($t,`RPC '${e}' stream ${o} received error:`,re);const be=re.status;let he=(function(w){const R=vt[w];if(R!==void 0)return O0(R)})(be),pe=re.message;he===void 0&&(he=Z.INTERNAL,pe="Unknown error status: "+be+" with message "+re.message),V=!0,L.a_(new le(he,pe)),S.close()}else ue($t,`RPC '${e}' stream ${o} received:`,ne),L.u_(ne)}})),X(m,XT.STAT_EVENT,(F=>{F.stat===Em.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Em.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){return new x2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class K0{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CN extends K0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=V2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?ci(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=wm(g)?{documents:L2(u,g)}:{query:U2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=P0(u,f.resumeToken);const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=fh(u,f.snapshotVersion.toTimestamp());const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=z2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xm(this.serializer),n.removeTarget=e,this.q_(n)}}class NN extends K0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k2(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>P2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class xN extends DN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Nm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Nm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ON{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class MN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Gs(this)&&(ue(qs,"Restarting streams for network reachability change."),await(async function(g){const y=we(g);y.Ea.add(4),await nu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Ra=new ON(s,o)}}async function Ph(r){if(Gs(r))for(const e of r.da)await e(!0)}async function nu(r){for(const e of r.da)await e(!1)}function Y0(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sp(n)?Ap(n):uo(n).O_()&&Tp(n,e))}function Ep(r,e){const n=we(r),s=uo(n);n.Ia.delete(e),s.O_()&&$0(n,e),n.Ia.size===0&&(s.O_()?s.L_():Gs(n)&&n.Ra.set("Unknown"))}function Tp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(r).Y_(e)}function $0(r,e){r.Va.Ue(e),uo(r).Z_(e)}function Ap(r){r.Va=new I2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Ra.ua()}function Sp(r){return Gs(r)&&!uo(r).x_()&&r.Ia.size>0}function Gs(r){return we(r).Ea.size===0}function X0(r){r.Va=void 0}async function VN(r){r.Ra.set("Online")}async function PN(r){r.Ia.forEach(((e,n)=>{Tp(r,e)}))}async function kN(r,e){X0(r),Sp(r)?(r.Ra.ha(e),Ap(r)):r.Ra.set("Unknown")}async function LN(r,e,n){if(r.Ra.set("Online"),e instanceof V0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await mh(r,s)}else if(e instanceof Yc?r.Va.Ze(e):e instanceof M0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await G0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),$0(u,g);const S=new Pr(E.target,g,y,E.sequenceNumber);Tp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(qs,"Failed to raise snapshot:",s),await mh(r,s)}}async function mh(r,e,n){if(!lo(e))throw e;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),n||(n=()=>G0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ph(r)}))}function Z0(r,e){return e().catch((n=>mh(r,n,e)))}async function kh(r){const e=we(r),n=Qr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sp;for(;UN(e);)try{const o=await vN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,jN(e,o)}catch(o){await mh(e,o)}W0(e)&&J0(e)}function UN(r){return Gs(r)&&r.Ta.length<10}function jN(r,e){r.Ta.push(e);const n=Qr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function W0(r){return Gs(r)&&!Qr(r).x_()&&r.Ta.length>0}function J0(r){Qr(r).start()}async function zN(r){Qr(r).ra()}async function BN(r){const e=Qr(r);for(const n of r.Ta)e.ea(n.mutations)}async function qN(r,e,n){const s=r.Ta.shift(),o=dp.from(s,e,n);await Z0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await kh(r)}async function HN(r,e){e&&Qr(r).X_&&await(async function(s,o){if((function(f){return b2(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();Qr(s).B_(),await Z0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kh(s)}})(r,e),W0(r)&&J0(r)}async function AE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ue(qs,"RemoteStore received new credentials");const s=Gs(n);n.Ea.add(3),await nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ph(n)}async function FN(r,e){const n=we(r);e?(n.Ea.delete(2),await Ph(n)):e||(n.Ea.add(2),await nu(n),n.Ra.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new CN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VN.bind(null,r),t_:PN.bind(null,r),r_:kN.bind(null,r),H_:LN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Sp(r)?Ap(r):r.Ra.set("Unknown")):(await r.ma.stop(),X0(r))}))),r.ma}function Qr(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new NN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zN.bind(null,r),r_:HN.bind(null,r),ta:BN.bind(null,r),na:qN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),lo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(e){return new Ga(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ga;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.ga=new at(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class eo{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new eo(e,n,Ga.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QN{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=bE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function bE(){return new Fs((r=>E0(r)),Nh)}async function eA(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new GN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=wp(f,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rp(n)}async function tA(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function KN(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Rp(n)}function YN(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Rp(r){r.Ca.forEach((e=>{e.next()}))}var Vm,wE;(wE=Vm||(Vm={})).Ma="default",wE.Cache="cache";class nA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class $N{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=T0(e),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new SE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const b=o.get(E),V=Dh(this.query,S)?S:null,L=!!b&&this.mutatedKeys.has(b.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;b&&V?b.data.isEqual(V.data)?L!==X&&(s.track({type:3,doc:V}),F=!0):this.su(b,V)||(s.track({type:2,doc:V}),F=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(m=!0)):!b&&V?(s.track({type:0,doc:V}),F=!0):b&&!V&&(s.track({type:1,doc:b}),F=!0,(g||y)&&(m=!0)),F&&(V?(f=f.add(V),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(V,L){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return X(V)-X(L)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new eo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new rA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new iA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ip="SyncEngine";class XN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ZN{constructor(e){this.key=e,this.hu=!1}}class WN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fs((m=>E0(m)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new at(me.comparator),this.Au=new Map,this.Ru=new gp,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JN(r,e,n=!0){const s=cA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await sA(s,e,n,!0),o}async function eD(r,e){const n=cA(r);await sA(n,e,!0,!1)}async function sA(r,e,n,s){const o=await EN(r.localStore,ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await tD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Y0(r.remoteStore,o),m}async function tD(r,e,n,s,o){r.pu=(S,b,V)=>(async function(X,F,ne,ee){let re=F.view.ru(ne);re.Cs&&(re=await yE(X.localStore,F.query,!1).then((({documents:O})=>F.view.ru(O,re))));const be=ee&&ee.targetChanges.get(F.targetId),he=ee&&ee.targetMismatches.get(F.targetId)!=null,pe=F.view.applyChanges(re,X.isPrimaryClient,be,he);return IE(X,F.targetId,pe.au),pe.snapshot})(r,S,b,V);const u=await yE(r.localStore,e,!0),f=new $N(e,u.Qs),m=f.ru(u.documents),g=tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);IE(r,n,y.au);const E=new XN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function nD(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Nh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Om(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ep(s.remoteStore,o.targetId),Pm(s,o.targetId)})).catch(oo)):(Pm(s,o.targetId),await Om(s.localStore,o.targetId,!0))}async function iD(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ep(n.remoteStore,s.targetId))}async function rD(r,e,n){const s=hD(r);try{const o=await(function(f,m){const g=we(f),y=tt.now(),E=m.reduce(((V,L)=>V.add(L.key)),Ve());let S,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let L=Ji(),X=Ve();return g.Ns.getEntries(V,E).next((F=>{L=F,L.forEach(((ne,ee)=>{ee.isValidDocument()||(X=X.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,L))).next((F=>{S=F;const ne=[];for(const ee of m){const re=v2(ee,S.get(ee.key).overlayedDocument);re!=null&&ne.push(new $r(ee.key,re,f0(re.value.mapValue),qn.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,ne,m)})).next((F=>{b=F;const ne=F.applyToLocalDocumentSet(S,X);return g.documentOverlayCache.saveOverlays(V,F.batchId,ne)}))})).then((()=>({batchId:b.batchId,changes:S0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new at(Me)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await iu(s,o.changes),await kh(s.remoteStore)}catch(o){const u=wp(o,"Failed to persist write");n.reject(u)}}async function aA(r,e){const n=we(r);try{const s=await yN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))})),await iu(n,s,e)}catch(s){await oo(s)}}function RE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=we(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const b of S.Sa)b.va(m)&&(y=!0)})),y&&Rp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new at(me.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Ve().add(u),g=new Mh(Se.min(),new Map,new at(Me),f,m);await aA(s,g),s.du=s.du.remove(u),s.Au.delete(e),Cp(s)}else await Om(s.localStore,e,!1).then((()=>Pm(s,e,n))).catch(oo)}async function aD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await gN(n.localStore,e);lA(n,s,null),oA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await iu(n,o)}catch(o){await oo(o)}}async function oD(r,e,n){const s=we(r);try{const o=await(function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(He(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);lA(s,e,n),oA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await iu(s,o)}catch(o){await oo(o)}}function oA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function lA(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Pm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||uA(r,s)}))}function uA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Ep(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Cp(r))}function IE(r,e,n){for(const s of n)s instanceof iA?(r.Ru.addReference(s.key,e),lD(r,s)):s instanceof rA?(ue(Ip,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||uA(r,s.key)):ve(19791,{wu:s})}function lD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Ip,"New document in limbo: "+n),r.Eu.add(s),Cp(r))}function Cp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(et.fromString(e)),s=r.fu.next();r.Au.set(s,new ZN(n)),r.du=r.du.insert(n,s),Y0(r.remoteStore,new Pr(ui(cp(n.path)),s,"TargetPurposeLimboResolution",Rh.ce))}}async function iu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=_p.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(b=>J.forEach(b.Es,(V=>E.persistence.referenceDelegate.addReference(S,b.targetId,V))).next((()=>J.forEach(b.ds,(V=>E.persistence.referenceDelegate.removeReference(S,b.targetId,V)))))))))}catch(S){if(!lo(S))throw S;ue(vp,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const V=E.Ms.get(b),L=V.snapshotVersion,X=V.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(b,X)}}})(s.localStore,u))}async function uD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ue(Ip,"User change. New user:",e.toKey());const s=await F0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(n,s.Ls)}}function cD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function cA(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sD.bind(null,e),e.Pu.H_=KN.bind(null,e.eventManager),e.Pu.yu=YN.bind(null,e.eventManager),e}function hD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oD.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pN(this.persistence,new fN,e.initialUser,this.serializer)}Cu(e){return new H0(yp.mi,this.serializer)}Du(e){return new AN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class fD extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Z2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new H0((s=>dh.mi(s,n)),this.serializer)}}class km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uD.bind(null,this.syncEngine),await FN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QN})()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),s=(function(u){return new IN(u)})(e.databaseInfo);return(function(u,f,m,g){return new xN(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new MN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>RE(this.syncEngine,n,0)),(function(){return EE.v()?new EE:new SN})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const S=new WN(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ue(qs,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class dD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(Kr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(Kr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function lm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Kr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await F0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function CE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await mD(r);ue(Kr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>AE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>AE(e.remoteStore,o))),r._onlineComponents=e}async function mD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Kr,"Using user provided OfflineComponentProvider");try{await lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await lm(r,new ph)}}else ue(Kr,"Using default OfflineComponentProvider"),await lm(r,new fD(void 0));return r._offlineComponents}async function fA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Kr,"Using user provided OnlineComponentProvider"),await CE(r,r._uninitializedComponentsProvider._online)):(ue(Kr,"Using default OnlineComponentProvider"),await CE(r,new km))),r._onlineComponents}function pD(r){return fA(r).then((e=>e.syncEngine))}async function dA(r){const e=await fA(r),n=e.eventManager;return n.onListen=JN.bind(null,e.syncEngine),n.onUnlisten=nD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iD.bind(null,e.syncEngine),n}function gD(r,e,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new hA({next:b=>{E.Nu(),f.enqueueAndForget((()=>tA(u,S)));const V=b.docs.has(m);!V&&b.fromCache?y.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&b.fromCache&&g&&g.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new nA(cp(m.path),E,{includeMetadataChanges:!0,qa:!0});return eA(u,S)})(await dA(r),r.asyncQueue,e,n,s))),s.promise}function yD(r,e,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new hA({next:b=>{E.Nu(),f.enqueueAndForget((()=>tA(u,S))),b.fromCache&&g.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new nA(m,E,{includeMetadataChanges:!0,qa:!0});return eA(u,S)})(await dA(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firestore.googleapis.com",DE=!0;class xE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=DE}else this.host=e.host,this.ssl=e.ssl??DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$2)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SC;switch(s.type){case"firstParty":return new IC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=NE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),NE.delete(n),s.terminate())})(this),Promise.resolve()}}function _D(r,e,n,s={}){r=Wi(r,Lh);const o=io(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(uT(`https://${m}`),cT("Firestore",!0)),u.host!==pA&&u.host!==m&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Us(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Xt.MOCK_USER;else{y=Kw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(S)}r._authCredentials=new bC(new e0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Wl(n,At._jsonSchema))return new At(e,s||null,new me(et.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Tt("string",At._jsonSchemaVersion),referencePath:Tt("string")};class zr extends co{constructor(e,n,s){super(e,n,cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new me(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function gh(r,e,...n){if(r=Ft(r),t0("collection","path",e),r instanceof Lh){const s=et.fromString(e,...n);return Fv(s),new zr(r,null,s)}{if(!(r instanceof At||r instanceof zr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Fv(s),new zr(r.firestore,null,s)}}function Hl(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=rp.newId()),t0("doc","path",e),r instanceof Lh){const s=et.fromString(e,...n);return Hv(s),new At(r,null,new me(s))}{if(!(r instanceof At||r instanceof zr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Hv(s),new At(r.firestore,r instanceof zr?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q0(this,"async_queue_retry"),this._c=()=>{const s=om();s&&ue(OE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;ue(OE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",VE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ho extends Lh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ME,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function vD(r,e){const n=typeof r=="object"?r:mT(),s=typeof r=="string"?r:ah,o=Qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Gw("firestore");u&&_D(o,...u)}return o}function Np(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ED(r),r._firestoreClient}function ED(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new FC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,mA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new dD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Gt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Tt("string",On._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Tt("string",hi._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fi(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Tt("string",fi._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=/^__.*__$/;class AD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}class gA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class xp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&TD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Vh(e)}Cc(e,n,s,o=!1){return new xp({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(r){const e=r._freezeSettings(),n=Vh(r._databaseId);return new SD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function bD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Mp("Data must be an object, but it was:",f,s);const m=_A(s,f);let g,y;if(u.merge)g=new _n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=Lm(e,S,n);if(!f.contains(b))throw new le(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);EA(E,b)||E.push(b)}g=new _n(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new AD(new ln(m),g,y)}class jh extends Dp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function wD(r,e,n,s){const o=r.Cc(1,e,n);Mp("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();Yr(s,((g,y)=>{const E=Vp(e,g,n);y=Ft(y);const S=o.yc(E);if(y instanceof jh)u.push(E);else{const b=ru(y,S);b!=null&&(u.push(E),f.set(E,b))}}));const m=new _n(u);return new gA(f,m,o.fieldTransforms)}function RD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Lm(e,s,n)],g=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Lm(e,u[b])),g.push(u[b+1]);const y=[],E=ln.empty();for(let b=m.length-1;b>=0;--b)if(!EA(y,m[b])){const V=m[b];let L=g[b];L=Ft(L);const X=f.yc(V);if(L instanceof jh)y.push(V);else{const F=ru(L,X);F!=null&&(y.push(V),E.set(V,F))}}const S=new _n(y);return new gA(E,S,f.fieldTransforms)}function ID(r,e,n,s=!1){return ru(n,r.Cc(s?4:3,e))}function ru(r,e){if(vA(r=Ft(r)))return Mp("Unsupported field value:",e,r),_A(r,e);if(r instanceof Dp)return(function(s,o){if(!yA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=ru(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:fh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fh(o.serializer,u)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:P0(o.serializer,s._byteString)};if(s instanceof At){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return(function(f,m){return{mapValue:{fields:{[c0]:{stringValue:h0},[oh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return hp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wh(s)}`)})(r,e)}function _A(r,e){const n={};return r0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,((s,o)=>{const u=ru(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof hi||r instanceof On||r instanceof At||r instanceof Dp||r instanceof fi)}function Mp(r,e,n){if(!vA(n)||!n0(n)){const s=wh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Lm(r,e,n){if((e=Ft(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return Vp(r,e);throw yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const CD=new RegExp("[~\\*/\\[\\]]");function Vp(r,e,n){if(e.search(CD)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Uh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function yh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(Z.INVALID_ARGUMENT,m+r+g)}function EA(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ND extends TA{data(){return super.data()}}function Pp(r,e){return typeof e=="string"?Vp(r,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class xD extends kp{}function AA(r,e,...n){let s=[];e instanceof kp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Lp)).length,m=u.filter((g=>g instanceof zh)).length;if(f>1||f>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class zh extends xD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zh(e,n,s)}_apply(e){const n=this._parse(e);return bA(e._query,n),new co(e.firestore,e.converter,Rm(e._query,n))}_parse(e){const n=Op(e.firestore);return(function(u,f,m,g,y,E,S){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){kE(S,E);const L=[];for(const X of S)L.push(PE(g,u,X));b={arrayValue:{values:L}}}else b=PE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||kE(S,E),b=ID(m,f,S,E==="in"||E==="not-in");return Et.create(y,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SA(r,e,n){const s=e,o=Pp("where",r);return zh._create(o,s,n)}class Lp extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)bA(f,g),f=Rm(f,g)})(e._query,n),new co(e.firestore,e.converter,Rm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PE(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v0(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wv(r,new me(s))}if(n instanceof At)return Wv(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function kE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OD{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Yr(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[oh].arrayValue?.values?.map((s=>mt(s.doubleValue)));return new fi(n)}convertGeoPoint(e){return new hi(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ch(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(B0(s),9688,{name:e});const o=new jl(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ls extends TA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Pp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:Tt("string",Ls._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class $c extends Ls{data(e={}){return super.data(e)}}class Qa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $c(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:VD(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(r){r=Wi(r,At);const e=Wi(r.firestore,ho);return gD(Np(e),r._key).then((n=>LD(e,r,n)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Tt("string",Qa._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class wA extends OD{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function RA(r){r=Wi(r,co);const e=Wi(r.firestore,ho),n=Np(e),s=new wA(e);return DD(r._query),yD(n,r._query).then((o=>new Qa(e,s,r,o)))}function kD(r,e,n,...s){r=Wi(r,At);const o=Wi(r.firestore,ho),u=Op(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof Uh?RD(u,"updateDoc",r._key,e,n,s):wD(u,"updateDoc",r._key,e),Up(o,[f.toMutation(r._key,qn.exists(!0))])}function IA(r){return Up(Wi(r.firestore,ho),[new fp(r._key,qn.none())])}function CA(r,e){const n=Wi(r.firestore,ho),s=Hl(r),o=MD(r.converter,e);return Up(n,[bD(Op(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function Up(r,e){return(function(s,o){const u=new Ki;return s.asyncQueue.enqueueAndForget((async()=>rD(await pD(s),o,u))),u.promise})(Np(r),e)}function LD(r,e,n){const s=n.docs.get(e._key),o=new wA(r);return new Ls(r,o,e._key,s,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ao=o})(ro),Ka(new js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ho(new wC(s.getProvider("auth-internal")),new CC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ur(jv,zv,e),Ur(jv,zv,"esm2020")})();const UD={apiKey:"AIzaSyBvROuv4CkJyfUby87owjFAmYvpyf8UU_c",authDomain:"test-3054c.firebaseapp.com",projectId:"test-3054c",storageBucket:"test-3054c.firebasestorage.app",messagingSenderId:"536496457232",appId:"1:536496457232:web:ad63fed147ce0f53f92c95",measurementId:"G-ZHT05S70E5"},NA=dT(UD),Br=vD(NA),um=vC(NA),jD=void 0,Bh=()=>{const[r,e]=G.useState(null),[n,s]=G.useState(!0);return G.useEffect(()=>{const f=oI(um,m=>{e(m),s(!1)});return()=>f()},[]),{user:r,loading:n,handleLogin:()=>{const f=new Hi;return CI(um,f).catch(m=>{console.error("Login failed",m)})},handleLogout:()=>lI(um).catch(f=>{console.error("Logout failed",f)})}},zD=({handleLogin:r})=>z.jsx("div",{className:"flex-grow flex items-center justify-center",children:z.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl max-w-sm w-full text-center",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"مرحباً بك"}),z.jsx("p",{className:"text-gray-600 mb-8",children:"الرجاء تسجيل الدخول للمتابعة"}),z.jsxs("button",{onClick:r,className:"bg-blue-500 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform active:scale-105 flex items-center justify-center mx-auto",children:[z.jsx("i",{className:"fab fa-google ml-2"}),z.jsx("span",{children:"تسجيل الدخول باستخدام جوجل"})]})]})}),BD=()=>{const r=({isActive:e})=>{const n="flex flex-col items-center focus:outline-none p-2";return e?`${n} text-blue-600 font-bold`:`${n} text-gray-500`};return z.jsx("nav",{id:"bottom-nav",className:"fixed bottom-0 left-0 w-full bg-white shadow-2xl z-10",children:z.jsxs("div",{className:"flex justify-around items-center h-16",children:[z.jsxs(jc,{to:"/",className:r,children:[z.jsx("i",{className:"fas fa-clipboard-list nav-icon"}),z.jsx("span",{className:"text-xs mt-1",children:"الامتحانات"})]}),z.jsxs(jc,{to:"/evaluations",className:r,children:[z.jsx("i",{className:"fas fa-chart-bar nav-icon"}),z.jsx("span",{className:"text-xs mt-1",children:"التقييمات"})]}),z.jsxs(jc,{to:"/profile",className:r,children:[z.jsx("i",{className:"fas fa-user nav-icon"}),z.jsx("span",{className:"text-xs mt-1",children:"الملف الشخصي"})]})]})})},qD=({children:r})=>z.jsxs("div",{id:"main-content",className:"flex-grow flex flex-col",children:[r,z.jsx(BD,{})]}),HD=({examName:r,setExamName:e,examDuration:n,setExamDuration:s,defaultPoints:o,setDefaultPoints:u})=>z.jsxs("div",{id:"exam-metadata-fields",className:"mb-8 space-y-4",children:[z.jsxs("div",{className:"border-b-2 border-gray-300 pb-2",children:[z.jsx("label",{htmlFor:"exam-name",className:"block text-sm font-medium text-gray-700",children:"اسم الامتحان"}),z.jsx("input",{type:"text",id:"exam-name",value:r,onChange:f=>e(f.target.value),className:"mt-1 block w-full bg-transparent border-none p-0 focus:ring-0 focus:outline-none text-lg"})]}),z.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[z.jsxs("div",{className:"border-b-2 border-gray-300 pb-2 w-1/2",children:[z.jsx("label",{htmlFor:"exam-duration",className:"block text-sm font-medium text-gray-700",children:"المدة الزمنية (دقيقة)"}),z.jsx("input",{type:"number",id:"exam-duration",value:n,onChange:f=>s(f.target.value),className:"mt-1 block w-full bg-transparent border-none p-0 focus:ring-0 focus:outline-none text-lg"})]}),z.jsxs("div",{className:"border-b-2 border-gray-300 pb-2 w-1/2",children:[z.jsx("label",{htmlFor:"default-points",className:"block text-sm font-medium text-gray-700",children:"النقاط الافتراضية"}),z.jsx("input",{type:"number",id:"default-points",value:o,onChange:f=>u(f.target.value),className:"mt-1 block w-full bg-transparent border-none p-0 focus:ring-0 focus:outline-none text-lg"})]})]})]}),FD=({currentMode:r,setMode:e})=>{const n=s=>{const o="font-bold py-2 px-6 rounded-lg transition-colors";return r===s?`${o} bg-blue-600 text-white`:`${o} bg-gray-300 text-gray-800`};return z.jsxs("div",{className:"flex justify-center mb-8 space-x-4 space-x-reverse",children:[z.jsx("button",{onClick:()=>e("manual"),className:n("manual"),children:"رفع يدوي"}),z.jsx("button",{onClick:()=>e("image"),className:n("image"),children:"رفع بالصور"})]})},GD=({questionData:r,index:e,onUpdate:n,onRemove:s})=>{const o=G.useRef(null),u=y=>{const{name:E,value:S}=y.target;n({...r,[E]:S})},f=(y,E)=>{const S=[...r.options];S[E]=y.target.value,n({...r,options:S})},m=y=>{n({...r,correctAnswer:parseInt(y.target.dataset.index)})},g=y=>{n({...r,points:parseFloat(y.target.value)||0})};return G.useEffect(()=>{(E=>{E&&(E.style.height="auto",E.style.height=E.scrollHeight+"px")})(o.current)},[r.text]),z.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-6 relative",children:[z.jsx("div",{className:"question-number-box",children:z.jsx("span",{children:e+1})}),z.jsx("div",{className:"flex justify-end items-center mb-4",children:z.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"النقاط:"}),z.jsx("input",{type:"number",value:r.points,onChange:g,className:"question-points w-16 p-1 border-b-2 border-gray-300 text-center bg-transparent focus:outline-none"}),z.jsx("button",{onClick:()=>s(r.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:z.jsx("i",{className:"fas fa-trash fa-lg"})})]})}),z.jsx("div",{className:"mb-4",children:z.jsx("textarea",{ref:o,name:"text",value:r.text,onChange:u,className:"w-full p-2 mt-1 border-none rounded-lg focus:outline-none focus:ring-0 text-lg text-gray-800 break-words bg-transparent resize-none",placeholder:"اكتب نص السؤال هنا...",rows:"2"})}),z.jsx("div",{className:"space-y-3",children:r.options.map((y,E)=>{const S=E===r.correctAnswer,b=S?"bg-green-100":"bg-gray-50";return z.jsxs("div",{className:`flex items-center space-x-2 space-x-reverse ${b} p-2 rounded-lg transition-colors duration-200`,children:[z.jsx("input",{type:"radio",name:`correct-answer-${r.id}`,className:"correct-answer-radio form-radio h-5 w-5 text-green-600 focus:ring-green-500","data-index":E,checked:S,onChange:m}),z.jsx("input",{type:"text",value:y,onChange:V=>f(V,E),className:"question-option w-full p-1 border-none bg-transparent focus:outline-none focus:ring-0 text-base text-gray-700",placeholder:`خيار ${E+1}`})]},E)})})]})},QD=({questions:r,setQuestions:e,defaultPoints:n})=>{const s=()=>{const f={id:`q-${Date.now()}`,text:"",type:"multiple-choice",options:["","","",""],correctAnswer:null,points:parseFloat(n)||1};e([...r,f])},o=f=>{e(r.map(m=>m.id===f.id?f:m))},u=f=>{e(r.filter(m=>m.id!==f))};return z.jsxs("div",{id:"manual-content",className:"space-y-6",children:[z.jsx("div",{id:"question-list",children:r.map((f,m)=>z.jsx(GD,{questionData:f,index:m,onUpdate:o,onRemove:u},f.id))}),z.jsx("div",{className:"flex justify-center space-x-4 space-x-reverse mt-8",children:z.jsx("button",{id:"add-question-btn",onClick:s,className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform active:scale-105",children:"أضف سؤال جديد يدوياً"})})]})},KD=({onQuestionsExtracted:r,defaultPoints:e})=>{const{showAlert:n,showLoading:s,hideLoading:o}=Eh(),[u,f]=G.useState([]),m=S=>new Promise((b,V)=>{const L=new FileReader;L.onload=()=>b(L.result.split(",")[1]),L.onerror=X=>V(X),L.readAsDataURL(S)}),g=S=>{const V=Array.from(S.target.files).map(L=>({id:`img-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:L,preview:URL.createObjectURL(L)}));f(L=>[...L,...V])},y=S=>{f(b=>b.filter(V=>V.id!==S))},E=async()=>{if(u.length===0){n("الرجاء رفع صورة واحدة على الأقل.");return}s();try{const S=await Promise.all(u.map(re=>m(re.file))),b=`
          استخرج الأسئلة والإجابات والخيارات من هذه الصور بالترتيب الذي تم تحميله. يجب أن يكون الناتج مصفوفة من الكائنات، كل كائن يمثل سؤالاً. يجب أن يحتوي كل كائن على الحقول التالية: "text" (نص السؤال), "options" (مصفوفة من الخيارات), و "correctAnswer" (فهرس الخيار الصحيح يبدأ من 0).
      `,V=S.map(re=>({inlineData:{mimeType:"image/png",data:re}})),X={contents:[{role:"user",parts:[{text:b},...V]}],generationConfig:{responseMimeType:"application/json",responseSchema:{type:"ARRAY",items:{type:"OBJECT",properties:{text:{type:"STRING"},options:{type:"ARRAY",items:{type:"STRING"}},correctAnswer:{type:"INTEGER"}}}}}},F=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${jD}`,ne=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)});if(!ne.ok)throw new Error(`API error: ${ne.statusText}`);const ee=await ne.json();if(ee&&ee.candidates&&ee.candidates.length>0&&ee.candidates[0].content&&ee.candidates[0].content.parts&&ee.candidates[0].content.parts.length>0){const re=ee.candidates[0].content.parts[0].text,he=JSON.parse(re).map((pe,O)=>({id:`q-image-${Date.now()}-${O}`,text:pe.text,type:"multiple-choice",options:pe.options,correctAnswer:pe.correctAnswer,points:parseFloat(e)||1}));r(he),n("تم استخراج الأسئلة بنجاح! يمكنك الآن مراجعتها وحفظها.")}else n("فشل استخراج الأسئلة. الرجاء المحاولة مرة أخرى.")}catch(S){console.error("Image processing failed:",S),n("حدث خطأ أثناء تحليل الصور. الرجاء التأكد من أن الصور تحتوي على أسئلة واضحة.")}finally{o()}};return z.jsxs("div",{id:"image-content",children:[z.jsx("div",{className:"flex items-center justify-center w-full",children:z.jsxs("label",{id:"image-upload-label",htmlFor:"image-upload",className:"relative flex flex-col items-center justify-center w-full h-96 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 transition-colors",children:[z.jsx("div",{id:"image-preview-container",className:"absolute inset-0 p-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto",children:u.map(S=>z.jsxs("div",{className:"relative image-preview-item",children:[z.jsx("img",{src:S.preview,alt:"preview",className:"w-full h-full object-cover rounded-lg shadow-md"}),z.jsx("button",{onClick:()=>y(S.id),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-75 hover:opacity-100 transition-opacity",children:z.jsx("i",{className:"fas fa-times"})})]},S.id))}),u.length===0&&z.jsxs("div",{id:"upload-placeholder",className:"text-center",children:[z.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),z.jsx("span",{className:"text-gray-500 mt-2",children:"انقر لرفع الصور"})]}),z.jsx("input",{id:"image-upload",type:"file",className:"hidden",accept:"image/png, image/jpeg",multiple:!0,onChange:g})]})}),z.jsx("div",{className:"mt-4 flex justify-center",children:z.jsx("button",{id:"process-image-btn",onClick:E,className:"bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform active:scale-105",disabled:u.length===0,children:"تحليل الصور واستخراج الأسئلة"})})]})},DA=({message:r,onConfirm:e,onCancel:n})=>z.jsx("div",{className:"custom-alert-overlay",children:z.jsxs("div",{className:"custom-alert-box",children:[z.jsx("p",{className:"text-lg text-gray-700",children:r}),z.jsxs("div",{className:"mt-6 flex justify-center space-x-4 space-x-reverse",children:[z.jsx("button",{onClick:e,className:"bg-red-600 text-white font-bold py-2 px-6 rounded-lg",children:"نعم, حذف"}),z.jsx("button",{onClick:n,className:"bg-gray-300 text-gray-800 font-bold py-2 px-6 rounded-lg",children:"إلغاء"})]})]})}),YD=({onEditExam:r,refreshTrigger:e})=>{const{user:n}=Bh(),{showAlert:s}=Eh(),[o,u]=G.useState([]),[f,m]=G.useState(!0),[g,y]=G.useState(null),E="tanya-thanawey",S=G.useCallback(async()=>{if(n){m(!0);try{const L=AA(gh(Br,`artifacts/${E}/public/data/exams`),SA("creatorId","==",n.uid)),F=(await RA(L)).docs.map(ne=>({id:ne.id,...ne.data()}));u(F)}catch(L){console.error("Error fetching exams: ",L),s("حدث خطأ أثناء تحميل الامتحانات.")}finally{m(!1)}}},[n,s]);G.useEffect(()=>{S()},[S,e]);const b=L=>{y(L)},V=async()=>{if(g)try{const L=Hl(Br,`artifacts/${E}/public/data/exams`,g);await IA(L),s("تم حذف الامتحان بنجاح."),y(null),S()}catch(L){console.error("Error deleting exam: ",L),s("حدث خطأ أثناء حذف الامتحان.")}};return f?z.jsx("div",{className:"flex justify-center py-8",children:z.jsx("div",{className:"spinner"})}):z.jsxs("div",{id:"published-exams-section",className:"mt-12",children:[z.jsxs("div",{className:"flex justify-between items-center mb-6",children:[z.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"امتحاناتك المنشورة"}),z.jsx("button",{id:"published-exams-list-refresh-btn",onClick:S,className:"text-gray-500 hover:text-blue-600",children:z.jsx("i",{className:"fas fa-sync-alt"})})]}),z.jsx("div",{id:"published-exams-list",className:"space-y-4",children:o.length===0?z.jsx("p",{className:"text-center text-gray-600",children:"لا توجد امتحانات منشورة حتى الآن."}):o.map(L=>z.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-bold text-gray-800",children:L.name}),z.jsxs("p",{className:"text-gray-600",children:["المدة: ",L.duration," دقيقة | عدد الأسئلة: ",L.questions.length]})]}),z.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[z.jsx("button",{onClick:()=>r(L.id),className:"bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-600 transition-colors",children:"عرض/تعديل"}),z.jsx("button",{onClick:()=>b(L.id),className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 transition-colors",children:"حذف"})]})]},L.id))}),g&&z.jsx(DA,{message:"هل أنت متأكد أنك تريد حذف هذا الامتحان؟ لا يمكن التراجع عن هذا الإجراء.",onConfirm:V,onCancel:()=>y(null)})]})},$D=()=>{const{user:r}=Bh(),{showAlert:e,showLoading:n,hideLoading:s}=Eh(),[o,u]=G.useState(""),[f,m]=G.useState(""),[g,y]=G.useState(1),[E,S]=G.useState("manual"),[b,V]=G.useState([]),[L,X]=G.useState(null),[F,ne]=G.useState(0),ee="tanya-thanawey";G.useEffect(()=>{E==="manual"&&b.length===0&&V([{id:`q-${Date.now()}-0`,text:"",type:"multiple-choice",options:["","","",""],correctAnswer:null,points:parseFloat(g)||1}])},[E,b.length,g]);const re=()=>{u(""),m(""),y(1),V([]),X(null)},be=async()=>{if(!r){e("يجب عليك تسجيل الدخول لحفظ الامتحان.");return}const pe={name:o.trim(),duration:parseFloat(f)||0,questions:b.map(w=>{const{id:R,...x}=w;return x}),creatorId:r.uid};if(!pe.name||!pe.duration||pe.questions.length===0){e("الرجاء إدخال اسم الامتحان، المدة، وإضافة سؤال واحد على الأقل.");return}if(pe.questions.filter(w=>w.text.trim()!==""&&w.options.every(R=>R.trim()!=="")).length!==pe.questions.length){e("الرجاء التأكد من ملء جميع حقول الأسئلة والخيارات.");return}n();try{if(L){const w=Hl(Br,`artifacts/${ee}/public/data/exams`,L);await kD(w,pe),e("تم تحديث الامتحان بنجاح!")}else{pe.createdAt=new Date().toISOString();const w=gh(Br,`artifacts/${ee}/public/data/exams`);await CA(w,pe),e("تم حفظ الامتحان بنجاح!")}re(),ne(w=>w+1)}catch(w){console.error("فشل حفظ/تحديث الامتحان:",w),e("حدث خطأ أثناء حفظ الامتحان.")}finally{s()}},he=async pe=>{n();try{const O=Hl(Br,`artifacts/${ee}/public/data/exams`,pe),w=await PD(O);if(w.exists()){const R=w.data();u(R.name),m(R.duration),V(R.questions.map((x,M)=>({...x,id:`q-loaded-${Date.now()}-${M}`}))),X(pe),e("تم تحميل الامتحان للتعديل."),window.scrollTo({top:0,behavior:"smooth"})}else e("لم يتم العثور على الامتحان.")}catch(O){console.error("فشل تحميل الامتحان للتعديل:",O),e("حدث خطأ أثناء تحميل الامتحان.")}finally{s()}};return z.jsxs("div",{className:"container mx-auto p-4 md:p-8 max-w-3xl w-full flex-grow mb-20 overflow-y-auto",children:[z.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-8",children:"إنشاء امتحان"}),z.jsx(FD,{currentMode:E,setMode:S}),z.jsx(HD,{examName:o,setExamName:u,examDuration:f,setExamDuration:m,defaultPoints:g,setDefaultPoints:y}),E==="manual"&&z.jsx(QD,{questions:b,setQuestions:V,defaultPoints:g}),E==="image"&&z.jsx(KD,{onQuestionsExtracted:pe=>{V(pe),S("manual")},defaultPoints:g}),z.jsx("hr",{className:"my-8 border-gray-300"}),z.jsxs("div",{className:"flex justify-center space-x-4 space-x-reverse",children:[z.jsx("button",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform active:scale-105",onClick:be,children:L?"تحديث الامتحان":"حفظ الامتحان"}),L&&z.jsx("button",{className:"bg-gray-500 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform active:scale-105",onClick:re,children:"امتحان جديد"})]}),z.jsx(YD,{onEditExam:he,refreshTrigger:F})]})},XD=()=>{const{user:r}=Bh(),{showAlert:e,showLoading:n,hideLoading:s}=Eh(),[o,u]=G.useState([]),f="tanya-thanawey",m=G.useCallback(async()=>{if(r){n();try{const E=AA(gh(Br,`artifacts/${f}/public/data/subjects`),SA("creatorId","==",r.uid)),b=(await RA(E)).docs.map(V=>({id:V.id,...V.data()}));u(b)}catch(E){console.error("Error fetching subjects: ",E),e("حدث خطأ أثناء تحميل المواد.")}finally{s()}}},[r,e,n,s]);return{subjects:o,fetchSubjects:m,addSubject:async E=>{if(!r){e("يجب عليك تسجيل الدخول لإضافة مادة.");return}n();try{const S={...E,creatorId:r.uid,createdAt:new Date().toISOString()},b=gh(Br,`artifacts/${f}/public/data/subjects`);await CA(b,S),e("تم إضافة المادة بنجاح."),m()}catch(S){console.error("Error adding subject: ",S),e("حدث خطأ أثناء إضافة المادة.")}finally{s()}},deleteSubject:async E=>{n();try{const S=Hl(Br,`artifacts/${f}/public/data/subjects`,E);await IA(S),e("تم حذف المادة بنجاح."),m()}catch(S){console.error("Error deleting subject: ",S),e("حدث خطأ أثناء حذف المادة.")}finally{s()}}}},ZD=({subject:r,onDelete:e})=>z.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-center justify-center space-y-4 hover:shadow-lg transition-shadow relative",children:[z.jsx("button",{onClick:()=>e(r.id),className:"absolute top-2 left-2 text-gray-400 hover:text-red-600 transition-colors",children:z.jsx("i",{className:"fas fa-times fa-lg"})}),z.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center pt-4",children:r.name}),z.jsxs("a",{href:r.link||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2 space-x-reverse no-underline",children:[z.jsx("i",{className:"fas fa-download"}),z.jsx("span",{children:"تنزيل"})]})]}),WD=({onSave:r,onCancel:e})=>{const[n,s]=G.useState(""),[o,u]=G.useState(""),f=()=>{n.trim()===""||o.trim()===""||r({name:n,link:o})};return z.jsx("div",{className:"custom-alert-overlay",children:z.jsxs("div",{className:"custom-alert-box text-right",children:[z.jsx("h2",{className:"text-xl font-bold mb-4",children:"إضافة مادة جديدة"}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"subject-name-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المادة"}),z.jsx("input",{type:"text",id:"subject-name-input",value:n,onChange:m=>s(m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"subject-link-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"رابط التنزيل"}),z.jsx("input",{type:"url",id:"subject-link-input",value:o,onChange:m=>u(m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/file.pdf"})]})]}),z.jsxs("div",{className:"mt-6 flex justify-center space-x-4 space-x-reverse",children:[z.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg",children:"حفظ"}),z.jsx("button",{onClick:e,className:"bg-gray-300 text-gray-800 font-bold py-2 px-6 rounded-lg",children:"إلغاء"})]})]})})},JD=()=>{const{subjects:r,fetchSubjects:e,addSubject:n,deleteSubject:s}=XD(),[o,u]=G.useState(!1),[f,m]=G.useState(null);G.useEffect(()=>{e()},[e]);const g=async S=>{await n(S),u(!1)},y=S=>{m(S)},E=async()=>{f&&(await s(f),m(null))};return z.jsxs("div",{className:"container mx-auto p-4 md:p-8 max-w-3xl w-full flex-grow mb-20 overflow-y-auto",children:[z.jsxs("div",{className:"flex justify-between items-center mb-8",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"التقييمات"}),z.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white text-2xl w-10 h-10 rounded-full shadow-lg flex items-center justify-center transition-transform transform active:scale-105",children:z.jsx("i",{className:"fas fa-plus"})})]}),z.jsx("div",{id:"subjects-container",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(S=>z.jsx(ZD,{subject:S,onDelete:y},S.id)):z.jsx("p",{className:"text-center text-gray-600 col-span-full",children:"لم يتم إضافة أي مواد بعد."})}),o&&z.jsx(WD,{onSave:g,onCancel:()=>u(!1)}),f&&z.jsx(DA,{message:"هل أنت متأكد أنك تريد حذف هذه المادة؟ لا يمكن التراجع عن هذا الإجراء.",onConfirm:E,onCancel:()=>m(null)})]})},ex=({handleLogout:r,user:e})=>z.jsxs("div",{className:"container mx-auto p-4 md:p-8 max-w-3xl w-full flex-grow mb-20 overflow-y-auto",children:[z.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-8",children:"الملف الشخصي"}),z.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[z.jsx("img",{src:e.photoURL,alt:"صورة المستخدم",className:"w-32 h-32 rounded-full border-4 border-blue-500 shadow-lg"}),z.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e.displayName}),z.jsx("button",{onClick:r,className:"bg-red-500 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform active:scale-105",children:"تسجيل الخروج"})]})]});function tx(){const{user:r,loading:e,handleLogin:n,handleLogout:s}=Bh();return e?z.jsx(tT,{}):z.jsx(kw,{children:z.jsx(Rw,{basename:"/dash-board",children:r?z.jsx(qD,{children:z.jsxs(iw,{children:[z.jsx(kc,{path:"/",element:z.jsx($D,{})}),z.jsx(kc,{path:"/evaluations",element:z.jsx(JD,{})}),z.jsx(kc,{path:"/profile",element:z.jsx(ex,{handleLogout:s,user:r})})]})}):z.jsx(zD,{handleLogin:n})})})}document.addEventListener("DOMContentLoaded",()=>{fb.createRoot(document.getElementById("root")).render(z.jsx(rb.StrictMode,{children:z.jsx(tx,{})}))});
